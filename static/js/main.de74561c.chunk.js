(this.webpackJsonpminder=this.webpackJsonpminder||[]).push([[4],{142:function(e,t,n){"use strict";n.r(t);var r=n(38),c=n(5),i=(n(128),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function a(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var o=n(33),l=n(58),s=n(190),j=n(78),u=n(17),d=n(42),b=n(79),h=n(180),O=n(182),f=n(189),g=n(176),C=n(178),m=n(179),p=n(181),x=n(183),v=n(159),w=n(187),k=n(188),y=n(0);function P(e){var t=e.size;return Object(c.jsx)("svg",{fill:"currentColor",width:null!==t&&void 0!==t?t:"100%",height:"100%",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:Object(c.jsx)("path",{d:"M 64.984 8.73 C 76.744 12.943 84.985 22.628 87.624 35.396 C 90.644 50.175 82.029 64.451 67.562 68.665 C 65.55 69.23 62.909 69.607 61.589 69.483 C 59.513 69.293 59.198 69.105 59.198 67.721 C 59.198 66.274 59.513 66.086 62.909 65.709 C 76.682 63.947 86.178 51.244 84.103 37.471 C 82.405 26.779 76.243 18.289 66.746 13.572 C 52.281 6.466 33.225 12.755 26.243 26.968 C 24.42 30.679 23.854 33.068 21.779 45.835 C 21.339 48.854 20.584 50.237 17.376 54.451 C 15.239 57.218 13.665 59.734 13.918 60.111 C 14.105 60.489 15.363 61.369 16.684 62.06 C 19.262 63.319 20.017 64.954 19.451 67.783 C 19.201 69.168 19.451 69.859 20.584 70.803 C 21.904 71.872 21.967 72.186 21.274 73.382 C 20.584 74.513 20.646 74.954 21.842 76.399 C 22.973 77.846 23.099 78.602 22.785 81.683 C 22.281 85.96 22.973 86.589 28.004 86.589 C 32.471 86.589 34.168 84.953 34.985 79.985 C 35.363 77.909 35.613 67.532 35.613 56.967 C 35.613 33.76 36.065 31.921 41.41 26.512 C 45.561 22.363 48.948 21.811 54.796 21.811 C 61.84 21.811 68.631 26.34 71.714 33.068 C 73.538 37.093 73.474 43.822 71.651 47.345 C 67.627 54.892 58.695 57.847 50.897 54.262 C 45.3 51.621 42.155 46.024 42.658 39.357 C 43.098 33.006 47.815 28.728 54.356 28.728 C 58.633 28.728 62.153 30.489 64.292 33.697 C 69.513 41.684 63.915 51.119 55.299 48.728 C 50.834 47.47 47.815 41.874 49.703 38.225 C 52.155 33.509 60.015 35.332 59.387 40.489 C 59.136 42.628 57.186 42.943 56.117 40.992 C 55.739 40.301 55.173 39.546 54.796 39.294 C 53.852 38.603 52.721 39.987 53.035 41.496 C 53.664 43.886 55.173 45.081 57.69 45.081 C 61.84 45.081 63.853 40.992 61.714 36.905 C 60.142 33.887 57.204 32.501 53.684 32.501 C 50.916 32.501 46.132 35.544 46.132 40.301 C 46.132 49.798 56.053 55.206 63.978 50.175 C 67.627 47.911 69.26 44.703 69.198 40.048 C 68.996 28.296 55.633 19.3 43.954 29.168 C 41.421 31.307 39.752 35.747 39.498 41.292 L 39.387 58.853 C 39.073 80.802 39.011 81.998 37.689 84.828 C 35.992 88.6 32.785 90.362 27.69 90.362 C 20.961 90.362 18.069 87.531 18.948 81.872 C 19.262 79.355 19.137 78.854 17.942 77.846 C 16.432 76.652 16.056 74.954 15.93 68.79 C 15.866 66.588 15.552 65.709 14.734 65.457 C 14.169 65.269 12.785 64.325 11.778 63.319 C 8.823 60.615 9.2 58.98 13.854 52.69 C 17.879 47.281 17.942 47.156 18.634 41.621 C 20.143 29.043 22.47 23.51 28.948 17.031 C 33.728 12.315 39.199 9.107 45.236 7.596 C 50.394 6.278 59.576 6.78 64.984 8.73 Z"})})}var S=n(121),I=n(174),W=n(175),A=n(73),L=n(74),M=n(75),E=n(76),R={palette:{type:"light",primary:{main:A.a[500]},secondary:{main:L.a.A100},error:{main:M.a[500]},warning:{main:L.a[500]},info:{main:A.a[500]},success:{main:E.a[500]}}};function q(e){var t=e.children,n=function(){var e=Object(W.a)("(prefers-color-scheme: dark)")?"dark":"light",t=Object(y.useState)(localStorage.getItem("palette")),n=Object(d.a)(t,2),r=n[0],c=n[1],i=Object(y.useCallback)((function(){c((function(e){var t="dark"===e?"light":"dark";return localStorage.setItem("palette",t),t}))}),[]);switch(r){case"dark":return["dark",i];case"light":return["light",i];default:return[e,i]}}(),i=Object(d.a)(n,2),a=i[0],o=i[1],l=Object(y.useMemo)((function(){return Object(S.a)(Object(r.a)(Object(r.a)({},R),{},{palette:Object(r.a)(Object(r.a)({},R.palette),{},{type:a})}))}),[a]);return Object(c.jsx)(I.a,{theme:l,children:Object(c.jsx)(z.Provider,{value:{togglePalette:o},children:t})})}var z=Object(y.createContext)(null);function B(){var e=Object(b.a)(["\n      mutation Logout {\n        logout\n      }\n    "]);return B=function(){return e},e}function T(){var e=Object(b.a)(["\n  query NavBarLoggedIn {\n    user {\n      username\n    }\n  }\n"]);return T=function(){return e},e}var N=Object(o.gql)(T());function U(){var e=Object(l.a)(),t=function(){var e=Object(y.useContext)(z);if(null==e)throw new Error("missing TogglePaletteContext.Provider");return e}().togglePalette,n=Object(o.useQuery)(N),r=n.data,i=n.loading;return Object(c.jsx)(g.a,{position:"static",color:"light"===e.palette.type?"primary":"default",children:Object(c.jsxs)(C.a,{children:[Object(c.jsx)(D,{icon:Object(c.jsx)(P,{size:36}),route:"/minder",label:"Minder"}),Object(c.jsx)(D,{route:"/minder/memories",label:"Memories"}),Object(c.jsx)(D,{route:"/minder/standard",label:"Standard"}),Object(c.jsx)("div",{style:{flexGrow:1}}),Object(c.jsx)(m.a,{onClick:t,children:Object(c.jsx)(h.a,{})}),Object(c.jsx)("div",{style:{width:e.spacing(2)}}),i?null:null!=(null===r||void 0===r?void 0:r.user)?Object(c.jsx)(J,{username:r.user.username}):Object(c.jsx)(D,{route:"/minder/login",label:"Log in"})]})})}function J(e){var t=e.username,n=Object(u.f)(),r=Object(o.useApolloClient)(),i=Object(y.useRef)(null),a=Object(y.useState)(!1),l=Object(d.a)(a,2),s=l[0],j=l[1],b=Object(o.useMutation)(Object(o.gql)(B())),h=Object(d.a)(b,1)[0];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(p.a,{color:"inherit",startIcon:Object(c.jsx)(O.a,{}),onClick:function(){return j(!0)},ref:i,children:Object(c.jsx)(x.a,{variant:"h6",children:t})}),Object(c.jsx)(v.a,{anchorEl:i.current,open:s,onClose:function(){return j(!1)},children:Object(c.jsxs)(w.a,{onClick:function(){h().then((function(){j(!1),localStorage.setItem("token",""),r.resetStore().then((function(){n.push("/minder/")}))}))},children:[Object(c.jsx)(k.a,{style:{minWidth:36},children:Object(c.jsx)(f.a,{fontSize:"small",color:"action"})}),Object(c.jsx)(x.a,{children:"Logout"})]})})]})}function D(e){var t=e.route,n=e.icon,r=e.label,i=Object(l.a)(),a=Object(u.g)(),o=Object(u.f)(),s=a.pathname===t&&"/minder"!==t;return Object(c.jsxs)(p.a,{color:"inherit",onClick:function(){return o.push(t)},startIcon:n,style:{textTransform:"none"},disableRipple:!0,children:[s&&Object(c.jsx)("span",{style:{position:"absolute",left:i.spacing(1),right:i.spacing(1),bottom:-i.spacing(1),height:2,backgroundColor:i.palette.common.white}}),Object(c.jsx)(x.a,{variant:"h6",children:r})]})}var F=n(51),G=Object(F.a)((function(){return Promise.all([n.e(8),n.e(11)]).then(n.bind(null,283))})),H=Object(F.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(7),n.e(9)]).then(n.bind(null,325))})),Q=Object(F.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(10)]).then(n.bind(null,319))})),Z=Object(F.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(13)]).then(n.bind(null,320))})),$=Object(F.a)((function(){return Promise.all([n.e(0),n.e(12)]).then(n.bind(null,321))}));var K=function(){var e=Object(l.a)();return Object(c.jsxs)(j.a,{children:[Object(c.jsx)(U,{}),Object(c.jsxs)(u.c,{children:[Object(c.jsxs)(u.a,{exact:!0,path:"/minder/",children:[Object(c.jsx)(G,{}),Object(c.jsx)("div",{style:{height:e.spacing(8)}})]}),Object(c.jsx)(u.a,{exact:!0,path:"/minder/memories",children:Object(c.jsx)(H,{})}),Object(c.jsxs)(s.a,{maxWidth:"md",style:{display:"flex",flexDirection:"column",flex:1},children:[Object(c.jsx)("div",{style:{height:e.spacing(2)}}),Object(c.jsx)(u.a,{path:"/minder/standard",children:Object(c.jsx)(Q,{})}),Object(c.jsx)(u.a,{path:"/minder/proposal/:proposalId",children:Object(c.jsx)(Z,{})}),Object(c.jsx)(u.a,{path:"/minder/login",children:Object(c.jsx)($,{})})]})]})]})},V=n(191),X=n(120),Y=n(150),_=n(14),ee=n.n(_),te=n(119),ne=Object(te.a)((function(e,t){var n,c=t.headers;return{headers:Object(r.a)(Object(r.a)({},c),{},{authorization:null!==(n=localStorage.getItem("token"))&&void 0!==n?n:""})}})),re=new o.ApolloClient({link:ne.concat(Object(o.createHttpLink)({uri:"https://thawing-wildwood-69808.herokuapp.com/graphql"})),cache:new o.InMemoryCache});function ce(){return Object(c.jsx)(o.ApolloProvider,{client:re,children:Object(c.jsx)(Y.a,{utils:X.a,children:Object(c.jsxs)(q,{children:[Object(c.jsx)(V.a,{}),Object(c.jsx)(K,{})]})})})}ee.a.render(Object(c.jsx)(ce,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/minder",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/minder","/service-worker.js");i?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):a(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):a(t,e)}))}}({})}},[[142,5,6]]]);
//# sourceMappingURL=main.de74561c.chunk.js.map