{"version":3,"sources":["pages/shared-layout/Logo.tsx","pages/shared-layout/useTogglePaletteContext.tsx","pages/shared-layout/NavBar.tsx","pages/shared-layout/autoRefreshToken.ts","pages/App.tsx","index.tsx"],"names":["Logo","size","fill","width","height","viewBox","xmlns","d","DEFAULT_THEME","palette","type","primary","main","blue","secondary","orange","error","red","warning","info","success","green","CustomThemeProvider","children","devicePalette","useMediaQuery","useState","localStorage","getItem","setPalette","togglePalette","useCallback","current","opposite","setItem","usePreferredPaletteType","paletteType","theme","useMemo","createMuiTheme","ThemeProvider","TogglePaletteContext","Provider","value","createContext","GOOGLE_CLIENT_ID","NavBar","useTheme","context","useContext","Error","useTogglePaletteContext","AppBar","position","color","Toolbar","NavBarRouteButton","startIcon","route","label","style","flexGrow","IconButton","onClick","Brightness4","spacing","LogInButton","client","useApolloClient","useMutation","gql","signin","isLoggedIn","setIsLoggedIn","signIn","useGoogleLogin","clientId","cookiePolicy","isSignedIn","onSuccess","response","googleUser","getAuthResponse","id_token","resetStore","then","data","res","refreshTiming","tokenObj","expires_in","refreshToken","a","reloadAuthResponse","newAuthRes","setTimeout","autoRefreshToken","onFailure","signOut","useGoogleLogout","onLogoutSuccess","anchorRef","useRef","isShowingPopover","setIsShowingPopover","ref","AccountCircle","NavBarButtonLayout","Menu","anchorEl","open","onClose","MenuItem","ListItemIcon","minWidth","MeetingRoom","fontSize","Typography","location","useLocation","history","useHistory","hasSelectedStyle","pathname","push","left","right","bottom","backgroundColor","common","white","Button","textTransform","disableRipple","variant","HomePage","loadable","MemoryPage","StandardPage","ProposalPage","App","exact","path","authLink","setContext","_","headers","authorization","ApolloClient","link","concat","createHttpLink","uri","cache","InMemoryCache","Root","utils","DateFnsUtils","CssBaseline","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e6119ce4.chunk.js","sourcesContent":["export default function Logo({ size }: { size?: number }) {\n  return (\n    <svg\n      fill=\"currentColor\"\n      width={size ?? \"100%\"}\n      height=\"100%\"\n      viewBox=\"0 0 100 100\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M 64.984 8.73 C 76.744 12.943 84.985 22.628 87.624 35.396 C 90.644 50.175 82.029 64.451 67.562 68.665 C 65.55 69.23 62.909 69.607 61.589 69.483 C 59.513 69.293 59.198 69.105 59.198 67.721 C 59.198 66.274 59.513 66.086 62.909 65.709 C 76.682 63.947 86.178 51.244 84.103 37.471 C 82.405 26.779 76.243 18.289 66.746 13.572 C 52.281 6.466 33.225 12.755 26.243 26.968 C 24.42 30.679 23.854 33.068 21.779 45.835 C 21.339 48.854 20.584 50.237 17.376 54.451 C 15.239 57.218 13.665 59.734 13.918 60.111 C 14.105 60.489 15.363 61.369 16.684 62.06 C 19.262 63.319 20.017 64.954 19.451 67.783 C 19.201 69.168 19.451 69.859 20.584 70.803 C 21.904 71.872 21.967 72.186 21.274 73.382 C 20.584 74.513 20.646 74.954 21.842 76.399 C 22.973 77.846 23.099 78.602 22.785 81.683 C 22.281 85.96 22.973 86.589 28.004 86.589 C 32.471 86.589 34.168 84.953 34.985 79.985 C 35.363 77.909 35.613 67.532 35.613 56.967 C 35.613 33.76 36.065 31.921 41.41 26.512 C 45.561 22.363 48.948 21.811 54.796 21.811 C 61.84 21.811 68.631 26.34 71.714 33.068 C 73.538 37.093 73.474 43.822 71.651 47.345 C 67.627 54.892 58.695 57.847 50.897 54.262 C 45.3 51.621 42.155 46.024 42.658 39.357 C 43.098 33.006 47.815 28.728 54.356 28.728 C 58.633 28.728 62.153 30.489 64.292 33.697 C 69.513 41.684 63.915 51.119 55.299 48.728 C 50.834 47.47 47.815 41.874 49.703 38.225 C 52.155 33.509 60.015 35.332 59.387 40.489 C 59.136 42.628 57.186 42.943 56.117 40.992 C 55.739 40.301 55.173 39.546 54.796 39.294 C 53.852 38.603 52.721 39.987 53.035 41.496 C 53.664 43.886 55.173 45.081 57.69 45.081 C 61.84 45.081 63.853 40.992 61.714 36.905 C 60.142 33.887 57.204 32.501 53.684 32.501 C 50.916 32.501 46.132 35.544 46.132 40.301 C 46.132 49.798 56.053 55.206 63.978 50.175 C 67.627 47.911 69.26 44.703 69.198 40.048 C 68.996 28.296 55.633 19.3 43.954 29.168 C 41.421 31.307 39.752 35.747 39.498 41.292 L 39.387 58.853 C 39.073 80.802 39.011 81.998 37.689 84.828 C 35.992 88.6 32.785 90.362 27.69 90.362 C 20.961 90.362 18.069 87.531 18.948 81.872 C 19.262 79.355 19.137 78.854 17.942 77.846 C 16.432 76.652 16.056 74.954 15.93 68.79 C 15.866 66.588 15.552 65.709 14.734 65.457 C 14.169 65.269 12.785 64.325 11.778 63.319 C 8.823 60.615 9.2 58.98 13.854 52.69 C 17.879 47.281 17.942 47.156 18.634 41.621 C 20.143 29.043 22.47 23.51 28.948 17.031 C 33.728 12.315 39.199 9.107 45.236 7.596 C 50.394 6.278 59.576 6.78 64.984 8.73 Z\" />\n    </svg>\n  );\n}\n","import React, {\n  ReactNode,\n  createContext,\n  useCallback,\n  useContext,\n  useMemo,\n  useState,\n} from \"react\";\nimport { ThemeProvider, createMuiTheme, useMediaQuery } from \"@material-ui/core\";\nimport { blue, green, orange, red } from \"@material-ui/core/colors\";\n\nconst DEFAULT_THEME = {\n  palette: {\n    type: \"light\",\n    primary: { main: blue[500] },\n    secondary: { main: orange[\"A100\"] },\n    error: { main: red[500] },\n    warning: { main: orange[500] },\n    info: { main: blue[500] },\n    success: { main: green[500] },\n  },\n};\n\nexport function CustomThemeProvider({ children }: { children?: ReactNode }) {\n  const [paletteType, togglePalette] = usePreferredPaletteType();\n  const theme = useMemo(\n    () =>\n      createMuiTheme({\n        ...DEFAULT_THEME,\n        palette: { ...DEFAULT_THEME.palette, type: paletteType },\n      }),\n    [paletteType],\n  );\n  return (\n    <ThemeProvider theme={theme}>\n      <TogglePaletteContext.Provider value={{ togglePalette }}>\n        {children}\n      </TogglePaletteContext.Provider>\n    </ThemeProvider>\n  );\n}\n\ntype TTogglePaletteContext = { togglePalette(): void };\nconst TogglePaletteContext = createContext<TTogglePaletteContext | null>(null);\nexport function useTogglePaletteContext() {\n  const context = useContext(TogglePaletteContext);\n  if (context == null) {\n    throw new Error(\"missing TogglePaletteContext.Provider\");\n  }\n  return context;\n}\n\nfunction usePreferredPaletteType(): [\"dark\" | \"light\", () => void] {\n  const devicePalette = useMediaQuery(\"(prefers-color-scheme: dark)\")\n    ? \"dark\"\n    : \"light\";\n\n  const [palette, setPalette] = useState(localStorage.getItem(\"palette\"));\n\n  const togglePalette = useCallback(() => {\n    setPalette((current) => {\n      const opposite = current === \"dark\" ? \"light\" : \"dark\";\n      localStorage.setItem(\"palette\", opposite);\n      return opposite;\n    });\n  }, []);\n  switch (palette) {\n    case \"dark\":\n      return [\"dark\", togglePalette];\n    case \"light\":\n      return [\"light\", togglePalette];\n    default:\n      return [devicePalette, togglePalette];\n  }\n}\n","import { AccountCircle, Brightness4, MeetingRoom } from \"@material-ui/icons\";\nimport {\n  AppBar,\n  Button,\n  IconButton,\n  ListItemIcon,\n  Menu,\n  MenuItem,\n  Toolbar,\n  Typography,\n  useTheme,\n} from \"@material-ui/core\";\nimport {\n  GoogleLoginResponse,\n  useGoogleLogin,\n  useGoogleLogout,\n} from \"react-google-login\";\nimport React, { ReactNode, useRef, useState } from \"react\";\nimport { gql, useApolloClient, useMutation } from \"@apollo/client\";\nimport { useHistory, useLocation } from \"react-router-dom\";\n\nimport Logo from \"./Logo\";\nimport autoRefreshToken from \"./autoRefreshToken\";\nimport { useTogglePaletteContext } from \"./useTogglePaletteContext\";\n\nconst GOOGLE_CLIENT_ID =\n  \"79887996241-lkot8h9s6ehcv4cd07kl9nsugt965pr8.apps.googleusercontent.com\";\n\nexport default function NavBar() {\n  const theme = useTheme();\n  const { togglePalette } = useTogglePaletteContext();\n  return (\n    <AppBar\n      position=\"static\"\n      color={theme.palette.type === \"light\" ? \"primary\" : \"default\"}\n    >\n      <Toolbar>\n        <NavBarRouteButton\n          startIcon={<Logo size={36} />}\n          route=\"/minder\"\n          label=\"Minder\"\n        />\n        <NavBarRouteButton route=\"/minder/memories\" label=\"Memories\" />\n        <NavBarRouteButton route=\"/minder/standard\" label=\"Standard\" />\n        <div style={{ flexGrow: 1 }} />\n        <IconButton onClick={togglePalette}>\n          <Brightness4 />\n        </IconButton>\n        <div style={{ width: theme.spacing(2) }} />\n        <LogInButton />\n      </Toolbar>\n    </AppBar>\n  );\n}\n\nfunction LogInButton() {\n  const client = useApolloClient();\n  const [signin] = useMutation<{ signin: boolean }>(\n    gql`\n      mutation Signin {\n        signin\n      }\n    `,\n  );\n\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const { signIn } = useGoogleLogin({\n    clientId: GOOGLE_CLIENT_ID,\n    cookiePolicy: \"single_host_origin\",\n    isSignedIn: true,\n    onSuccess: (response) => {\n      setIsLoggedIn(true);\n      const googleUser = response as GoogleLoginResponse;\n      localStorage.setItem(\"token\", googleUser.getAuthResponse().id_token);\n      client\n        .resetStore()\n        .then(() => signin())\n        .then(({ data }) => {\n          if (data?.signin === true) {\n            autoRefreshToken(googleUser);\n          } else {\n            localStorage.setItem(\"token\", \"\");\n            client.resetStore();\n          }\n        });\n    },\n    onFailure: (response) => {\n      setIsLoggedIn(false);\n    },\n  });\n\n  const { signOut } = useGoogleLogout({\n    clientId: GOOGLE_CLIENT_ID,\n    cookiePolicy: \"single_host_origin\",\n    onLogoutSuccess: () => {\n      setIsLoggedIn(false);\n      localStorage.setItem(\"token\", \"\");\n      client.resetStore();\n    },\n    onFailure: () => {},\n  });\n\n  const anchorRef = useRef(null);\n  const [isShowingPopover, setIsShowingPopover] = useState(false);\n  return (\n    <>\n      <span ref={anchorRef}>\n        {isLoggedIn ? (\n          <IconButton onClick={() => setIsShowingPopover(true)}>\n            <AccountCircle />\n          </IconButton>\n        ) : (\n          <NavBarButtonLayout onClick={() => setIsShowingPopover(true)}>\n            Log in\n          </NavBarButtonLayout>\n        )}\n      </span>\n      <Menu\n        anchorEl={anchorRef.current}\n        open={isShowingPopover}\n        onClose={() => setIsShowingPopover(false)}\n      >\n        {isLoggedIn ? (\n          <MenuItem\n            onClick={() => {\n              setIsShowingPopover(false);\n              signOut();\n            }}\n          >\n            <ListItemIcon style={{ minWidth: 36 }}>\n              <MeetingRoom fontSize=\"small\" color=\"action\" />\n            </ListItemIcon>\n            <Typography>Logout</Typography>\n          </MenuItem>\n        ) : (\n          <MenuItem\n            onClick={() => {\n              setIsShowingPopover(false);\n              signIn();\n            }}\n          >\n            <ListItemIcon style={{ minWidth: 36 }}>\n              <MeetingRoom fontSize=\"small\" color=\"action\" />\n            </ListItemIcon>\n            <Typography>Sign in with Google</Typography>\n          </MenuItem>\n        )}\n      </Menu>\n    </>\n  );\n}\n\ntype NavBarRouteButtonProps = {\n  route: string;\n  startIcon?: ReactNode;\n  label: string;\n};\nfunction NavBarRouteButton({ route, startIcon, label }: NavBarRouteButtonProps) {\n  const theme = useTheme();\n  const location = useLocation();\n  const history = useHistory();\n  const hasSelectedStyle = location.pathname === route && route !== \"/minder\";\n  return (\n    <NavBarButtonLayout onClick={() => history.push(route)} startIcon={startIcon}>\n      {hasSelectedStyle && (\n        <span\n          style={{\n            position: \"absolute\",\n            left: theme.spacing(1),\n            right: theme.spacing(1),\n            bottom: -theme.spacing(1),\n            height: 2,\n            backgroundColor: theme.palette.common.white,\n          }}\n        />\n      )}\n      {label}\n    </NavBarButtonLayout>\n  );\n}\n\ntype NavBarButtonLayoutProps = {\n  onClick(): void;\n  startIcon?: ReactNode;\n  children: ReactNode;\n};\nfunction NavBarButtonLayout({\n  onClick,\n  startIcon,\n  children,\n}: NavBarButtonLayoutProps) {\n  return (\n    <Button\n      color=\"inherit\"\n      onClick={onClick}\n      startIcon={startIcon}\n      style={{ textTransform: \"none\" }}\n      disableRipple\n    >\n      <Typography variant=\"h6\">{children}</Typography>\n    </Button>\n  );\n}\n","import { GoogleLoginResponse } from \"react-google-login\";\n\nexport default function autoRefreshToken(res: GoogleLoginResponse): void {\n  let refreshTiming = (res.tokenObj.expires_in || 3600 - 5 * 60) * 1000;\n\n  const refreshToken = async () => {\n    const newAuthRes = await res.reloadAuthResponse();\n    refreshTiming = (newAuthRes.expires_in || 3600 - 5 * 60) * 1000;\n    localStorage.setItem(\"token\", newAuthRes.id_token);\n    setTimeout(refreshToken, refreshTiming);\n  };\n\n  setTimeout(refreshToken, refreshTiming);\n}\n","import { Route, BrowserRouter as Router, Switch } from \"react-router-dom\";\n\nimport NavBar from \"./shared-layout/NavBar\";\nimport React from \"react\";\nimport loadable from \"@loadable/component\";\n\nconst HomePage = loadable(() => import(\"./home/HomePage\"));\nconst MemoryPage = loadable(() => import(\"./memory/MemoryPage\"));\nconst StandardPage = loadable(() => import(\"./standard/StandardPage\"));\nconst ProposalPage = loadable(() => import(\"./proposal/ProposalPage\"));\n\nfunction App() {\n  return (\n    <Router>\n      <NavBar />\n      <Switch>\n        <Route exact path=\"/minder/\">\n          <HomePage />\n        </Route>\n        <Route exact path=\"/minder/memories\">\n          <MemoryPage />\n        </Route>\n        <Route path=\"/minder/standard\">\n          <StandardPage />\n        </Route>\n        <Route path=\"/minder/proposal/:proposalId\">\n          <ProposalPage />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import \"fontsource-roboto\";\n\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport {\n  ApolloClient,\n  ApolloProvider,\n  InMemoryCache,\n  createHttpLink,\n} from \"@apollo/client\";\n\nimport App from \"./pages/App\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { CustomThemeProvider } from \"./pages/shared-layout/useTogglePaletteContext\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport { MuiPickersUtilsProvider } from \"@material-ui/pickers\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { setContext } from \"@apollo/client/link/context\";\n\nconst authLink = setContext((_, { headers }) => ({\n  headers: {\n    ...headers,\n    authorization: localStorage.getItem(\"token\") ?? \"\",\n  },\n}));\n\nconst client = new ApolloClient({\n  link: authLink.concat(\n    createHttpLink({\n      uri: \"https://thawing-wildwood-69808.herokuapp.com/graphql\",\n    }),\n  ),\n  cache: new InMemoryCache(),\n});\n\nfunction Root() {\n  return (\n    <ApolloProvider client={client}>\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\n        <CustomThemeProvider>\n          <CssBaseline />\n          <App />\n        </CustomThemeProvider>\n      </MuiPickersUtilsProvider>\n    </ApolloProvider>\n  );\n}\n\nReactDOM.render(<Root />, document.getElementById(\"root\"));\n"],"sourceRoot":""}