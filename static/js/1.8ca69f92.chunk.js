(this.webpackJsonpminder=this.webpackJsonpminder||[]).push([[1],{202:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c}));var a=n(0),r=Object(a.createContext)(null);function c(){var e=Object(a.useContext)(r);if(null==e)throw new Error("missing DecodedDataContext.Provider");return e}},203:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return d}));var a,r=n(40),c=n(88),i=n(289);function l(e,t){var n,a,r=JSON.parse(e),i=r.title,l=r.created,s=void 0===l?new Date:l,u=r.updated,d=void 0===u?new Date:u,j={},b=o(j,"ROOT",Object(c.a)(r,["title","created","updated"]));return{rootNode:{title:null!==(n=null!==(a=t.title)&&void 0!==a?a:i)&&void 0!==n?n:"Primary",created:new Date(s),updated:new Date(d),value:b.key},nodes:j}}function o(e,t,n){var r=function(e,t,n){var r=Object(i.a)();if(n instanceof Array){var c=n.map((function(n){return o(e,t,n)})).map((function(e){return e.key}));return{type:a.List,key:r,parentKey:t,children:c}}switch(typeof n){case"string":if(function(e){return RegExp(/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/).test(e)}(n)){var l=new Date(n);return{type:a.Date,key:r,parentKey:t,date:l}}return{type:a.String,key:r,parentKey:t,value:n};case"number":return{type:a.Number,key:r,parentKey:t,value:n};case"boolean":return{type:a.Boolean,key:r,parentKey:t,value:n};case"object":default:if(null==n)return{type:a.Null,key:r,parentKey:t};var s=Object.keys(n).map((function(t){return{name:t,value:o(e,r,n[t]).key,parentKey:r}}));return{type:a.Object,key:r,parentKey:t,fields:s}}}(e,t,n);return e[r.key]=r,r}function s(e){return JSON.stringify(Object(r.a)({title:e.rootNode.title,created:e.rootNode.created,updated:e.rootNode.updated},u(e.nodes,e.rootNode.value)))}function u(e,t){var n=e[t];switch(n.type){case a.Boolean:return n.value;case a.Date:return n.date.toISOString();case a.List:return n.children.map((function(t){return u(e,t)}));case a.Null:return null;case a.Number:return n.value;case a.Object:var r={};return n.fields.forEach((function(t){r[t.name]=u(e,t.value)})),r;case a.String:return n.value}}function d(e,t){var n=Object(i.a)(),r=t.key;switch(e){case a.List:return{type:e,parentKey:r,key:n,children:[]};case a.Boolean:return{type:e,parentKey:r,key:n,value:!0};case a.Date:return{type:e,parentKey:r,key:n,date:new Date};case a.Null:return{type:e,parentKey:r,key:n};case a.Number:return{type:e,parentKey:r,key:n,value:0};case a.Object:return{type:e,parentKey:r,key:n,fields:[]};case a.String:return{type:e,parentKey:r,key:n,value:""}}}!function(e){e.List="List",e.Object="Object",e.Number="Number",e.Boolean="Boolean",e.String="String",e.Date="Date",e.Null="Null"}(a||(a={}))},206:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return o}));var a=n(33),r=n(5),c=n(0),i=Object(c.createContext)(null);function l(){var e=Object(c.useContext)(i);if(null==e)throw new Error("missing BreadcrumbsContext.Provider");return e}function o(e){var t=e.children,n=Object(c.useState)([]),l=Object(a.a)(n,2),o=l[0],s=l[1];return Object(r.jsx)(i.Provider,{value:{breadcrumbs:o,setBreadcrumbs:s},children:t})}},210:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return o}));var a=n(33),r=n(5),c=n(0),i=Object(c.createContext)(null);function l(){var e=Object(c.useContext)(i);return null!==e&&void 0!==e?e:{isEditing:!1,setIsEditing:function(){}}}function o(e){var t=e.children,n=Object(c.useState)(!1),l=Object(a.a)(n,2),o=l[0],s=l[1];return Object(r.jsx)(i.Provider,{value:{isEditing:o,setIsEditing:s},children:t})}},217:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(5),r=n(349),c=n(155),i=n(185),l=n(306),o=(n(0),n(305)),s=n(80),u=n(32),d=n(206),j=n(202),b=n(210);function O(){var e=Object(j.b)().store,t=Object(b.b)().isEditing,n=Object(d.b)(),i=n.breadcrumbs,l=n.setBreadcrumbs;return t?Object(a.jsx)(r.a,{children:Object(a.jsxs)(f,{children:[Object(a.jsx)(o.a,{}),Object(a.jsx)(s.a,{s1:!0}),e.rootNode.title]})}):Object(a.jsxs)(r.a,{children:[Object(a.jsxs)(f,{onClick:0===i.length?null:function(){l([])},children:[Object(a.jsx)(o.a,{}),Object(a.jsx)(s.a,{s1:!0}),e.rootNode.title]}),i.map((function(e,t,n){return Object(a.jsx)(c.a,{in:!0,timeout:200*t,style:{transformOrigin:"0 0 0"},children:Object(a.jsx)(f,{onClick:t<n.length-1?function(){return function(e){l((function(t){return t.slice(0,t.findIndex((function(t){return t.value===e.value}))+1)}))}(e)}:null,children:e.name})},e.value)}))]})}function f(e){var t=e.onClick,n=e.children;return null==t?Object(a.jsx)(i.a,{color:"textPrimary",variant:"h6",className:Object(u.a)({display:"flex",alignItems:"center"}),children:n}):Object(a.jsx)(l.a,{color:"inherit",variant:"h6",onClick:t,className:Object(u.a)({display:"flex",alignItems:"center",cursor:"pointer"}),children:n})}},218:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var a=n(203);function r(e,t){var n=e.nodes[t];switch(n.type){case a.a.Boolean:return n.value?"Yes":"No";case a.a.Date:return i(n.date);case a.a.Null:return"Null";case a.a.Number:return n.value.toString();case a.a.String:return n.value;case a.a.List:return"List [".concat(n.children.map((function(t){return'"'.concat(r(e,t),'"')})).join(", "),"]");case a.a.Object:return"{".concat(n.fields.map((function(t){return'"'.concat(t.value,'": "').concat(r(e,t.value),'"')})).join(", "),"}")}}var c=new(n(118).a);function i(e){return c.format(e,"MMMM do, yyyy")}},220:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ee}));var a=n(5),r=n(211),c=n(40),i=n(33),l=n(203),o=n(307),s=n(308),u=n(346),d=n(191),j=n(0),b=n.n(j);function O(e){var t=e.node,n=e.onChange;return Object(a.jsxs)(o.a,{variant:"filled",fullWidth:!0,children:[Object(a.jsx)(s.a,{children:"Value"}),Object(a.jsxs)(u.a,{label:"Type",value:t.value,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var a=e.target.value;n(Object(c.a)(Object(c.a)({},t),{},{value:"true"===a}))})),children:[Object(a.jsx)(d.a,{value:"true",children:"Yes"}),Object(a.jsx)(d.a,{value:"false",children:"No"})]})]})}var f=n(343);function v(e){var t=e.node,n=e.onChange;return Object(a.jsx)(f.a,{disableToolbar:!0,variant:"inline",inputVariant:"filled",fullWidth:!0,format:"MM/dd/yyyy",label:"Initial Date",value:t.date,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){n(Object(c.a)(Object(c.a)({},t),{},{date:null!==e&&void 0!==e?e:new Date}))})),KeyboardButtonProps:{"aria-label":"change date"}})}var h=n(319),p=n(320),x=n(321),g=n(322),y=n(318),m=n(186),N=n(183),C=n(80),S=n(32);function k(e){var t=e.node,n=e.childNodes,i=e.onChange,j=n&&n.length>0?n[0].type:"";return Object(a.jsxs)(o.a,{variant:"filled",fullWidth:!0,children:[Object(a.jsxs)(o.a,{variant:"filled",children:[Object(a.jsx)(s.a,{id:"select-type-label",children:"Of"}),Object(a.jsxs)(u.a,{labelId:"select-type-label",value:j,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var n=e.target.value,a=Object(l.b)(n,t);i({valueNode:Object(c.a)(Object(c.a)({},t),{},{children:[a.key]}),childNodes:[a]})})),children:[Object(a.jsx)(d.a,{value:l.a.String,children:"Text"}),Object(a.jsx)(d.a,{value:l.a.Number,children:"Number"}),Object(a.jsx)(d.a,{value:l.a.Date,children:"Date"})]})]}),Object(a.jsx)(C.b,{s1:!0}),null===n||void 0===n?void 0:n.map((function(e,l,o){return Object(a.jsxs)("div",{className:Object(S.a)({display:"flex",alignItems:"center"}),children:[Object(a.jsx)(I,{node:{valueNode:e},onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(a){var r=a.valueNode;r&&i({valueNode:t,childNodes:n.map((function(t){return t.key===e.key?r:t}))})}))}),Object(a.jsx)(C.a,{s1:!0}),Object(a.jsxs)(y.a,{orientation:"vertical",children:[Object(a.jsx)(m.a,{size:"small",disabled:0===l,onClick:function(){var a=[].concat(Object(r.a)(n.slice(0,l-1)),[e],Object(r.a)(n.slice(l-1,l)),Object(r.a)(n.slice(l+1)));i({valueNode:Object(c.a)(Object(c.a)({},t),{},{children:a.map((function(e){return e.key}))}),childNodes:a})},children:Object(a.jsx)(h.a,{style:{fontSize:16}})}),Object(a.jsx)(m.a,{size:"small",disabled:l===o.length-1,onClick:function(){var a=[].concat(Object(r.a)(n.slice(0,l)),Object(r.a)(n.slice(l+1,l+2)),[e],Object(r.a)(n.slice(l+2)));i({valueNode:Object(c.a)(Object(c.a)({},t),{},{children:a.map((function(e){return e.key}))}),childNodes:a})},children:Object(a.jsx)(p.a,{style:{fontSize:16}})})]}),Object(a.jsx)(m.a,{onClick:function(){var a=n.filter((function(t){return t.key!==e.key}));i({valueNode:Object(c.a)(Object(c.a)({},t),{},{children:a.map((function(e){return e.key}))}),childNodes:a})},children:Object(a.jsx)(x.a,{})})]},e.key)})),n&&n.length>0&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(C.b,{s1:!0}),Object(a.jsx)(N.a,{variant:"outlined",color:"primary",size:"small",onClick:function(){if(""!==j){var e=Object(l.b)(j,t),a=[].concat(Object(r.a)(n),[e]);i({valueNode:Object(c.a)(Object(c.a)({},t),{},{children:a.map((function(e){return e.key}))}),childNodes:a})}},startIcon:Object(a.jsx)(g.a,{}),children:"Add"})]})]})}var w=n(350);function D(e){var t=e.node,n=e.onChange;return Object(a.jsx)(w.a,{variant:"filled",id:"name",label:"Value",type:"number",value:t.value,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){n(Object(c.a)(Object(c.a)({},t),{},{value:isNaN(Number(e.target.value))?t.value:Number(e.target.value)}))})),fullWidth:!0})}function K(e){var t=e.node,n=e.onChange;return Object(a.jsx)(w.a,{id:"name",label:"Value",variant:"filled",type:"string",value:t.value,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){n(Object(c.a)(Object(c.a)({},t),{},{value:e.target.value}))})),fullWidth:!0})}function I(e){var t=e.node,n=e.onChange;if(null===t.valueNode)return null;var r=function(e){return n({valueNode:e})};switch(t.valueNode.type){case l.a.List:return Object(a.jsx)(k,{node:t.valueNode,childNodes:t.childNodes,onChange:n});case l.a.Boolean:return Object(a.jsx)(O,{node:t.valueNode,onChange:r});case l.a.Date:return Object(a.jsx)(v,{node:t.valueNode,onChange:r});case l.a.Null:throw Error("Impossible");case l.a.Number:return Object(a.jsx)(D,{node:t.valueNode,onChange:r});case l.a.Object:return null;case l.a.String:return Object(a.jsx)(K,{node:t.valueNode,onChange:r})}}var W=n(185),P=n(155),F=n(312),E=n(316),L=n(315),z=n(323),B=n(310),T=n(317),R=n(190),A=n(156),M=n(192),J=n(265),V=n(271),Y=n.n(V),G=n(272),H=n.n(G),Q=n(270),X=n.n(Q),Z=n(269),q=n.n(Z),U=n(273),$=n.n(U),_=n(268),ee=n.n(_),te=n(266),ne=n.n(te),ae=n(202);var re=function(e){switch(Object(ae.b)().store.nodes[e.nodeKey].type){case l.a.Boolean:return Object(a.jsx)(ne.a,{style:{fontSize:20}});case l.a.Date:return Object(a.jsx)(ee.a,{style:{fontSize:20}});case l.a.List:return Object(a.jsx)(q.a,{style:{fontSize:20}});case l.a.Null:return Object(a.jsx)(X.a,{style:{fontSize:20}});case l.a.Number:return Object(a.jsx)(Y.a,{style:{fontSize:20}});case l.a.Object:return Object(a.jsx)(H.a,{style:{fontSize:20}});case l.a.String:return Object(a.jsx)($.a,{style:{fontSize:20}})}},ce=n(250),ie=n.n(ce),le=n(210),oe=n(218);function se(e){var t=Object(ae.b)().store;return function(n){return""===e||Object(oe.b)(t,n).toLocaleLowerCase().includes(e)}}function ue(e){var t=Object(j.useState)(""),n=Object(i.a)(t,2),r=n[0],c=n[1],l=Object(le.b)().isEditing,s=se(r);return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:e.node.children.length>7?Object(a.jsx)(o.a,{children:Object(a.jsx)(B.a,{value:r,onChange:function(e){return c(e.target.value)},placeholder:"Search ...",startAdornment:Object(a.jsx)(T.a,{position:"start",children:Object(a.jsx)(ie.a,{})})})}):null}),Object(a.jsxs)(R.a,{children:[!l&&0===e.node.children.length&&Object(a.jsx)(W.a,{variant:"body1",children:"List is empty"}),e.node.children.filter(s).map((function(e,t){return Object(a.jsx)(P.a,{in:!0,timeout:200*t,children:Object(a.jsxs)(A.a,{button:!0,children:[Object(a.jsx)(M.a,{children:Object(a.jsx)(re,{nodeKey:e})}),Object(a.jsx)(J.a,{primary:Object(a.jsx)(Ee,{nodeKey:e})})]})})})),l&&Object(a.jsx)(A.a,{children:Object(a.jsx)(J.a,{onClick:function(e){return e.stopPropagation()},primary:Object(a.jsx)(de,{parentNode:e.node})})})]})]})}function de(e){var t,n,b=Object(ae.b)(),O=b.store,f=b.updateNodes,v=Object(l.b)(e.parentNode.children.length>0?O.nodes[e.parentNode.children[0]].type:l.a.String,e.parentNode),h=Object(j.useState)(!1),p=Object(i.a)(h,2),x=p[0],y=p[1],m=Object(j.useState)({valueNode:v}),k=Object(i.a)(m,2),w=k[0],D=k[1];return null==f?null:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N.a,{variant:"outlined",color:"primary",size:"small",onClick:function(){return y(!0)},startIcon:Object(a.jsx)(g.a,{}),children:"Add"}),Object(a.jsxs)(F.a,{open:x,onClose:function(){return y(!1)},"aria-labelledby":"new-field-dialog-title",fullWidth:!0,maxWidth:"xs",children:[Object(a.jsx)(z.a,{id:"new-field-dialog-title",children:"Add New List Item"}),Object(a.jsxs)(L.a,{className:Object(S.a)({display:"flex"}),children:[0===e.parentNode.children.length&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(o.a,{variant:"filled",className:Object(S.a)({minWidth:120}),children:[Object(a.jsx)(s.a,{id:"select-type-label",children:"Type"}),Object(a.jsxs)(u.a,{labelId:"select-type-label",value:null!==(t=null===(n=w.valueNode)||void 0===n?void 0:n.type)&&void 0!==t?t:"",onChange:function(t){var n=t.target.value;D({valueNode:Object(l.b)(n,e.parentNode)})},fullWidth:!0,children:[Object(a.jsx)(d.a,{value:l.a.String,children:"Text"}),Object(a.jsx)(d.a,{value:l.a.Number,children:"Number"}),Object(a.jsx)(d.a,{value:l.a.Date,children:"Date"})]})]}),Object(a.jsx)(C.a,{s1:!0})]}),Object(a.jsx)(I,{node:w,onChange:D})]}),Object(a.jsxs)(E.a,{children:[Object(a.jsx)(N.a,{onClick:function(){return y(!1)},color:"primary",children:"Cancel"}),Object(a.jsx)(N.a,{onClick:function(){if(null!==w.valueNode){var t,n=Object(c.a)(Object(c.a)({},e.parentNode),{},{children:[].concat(Object(r.a)(e.parentNode.children),[w.valueNode.key])});f([].concat(Object(r.a)(null!==(t=w.childNodes)&&void 0!==t?t:[]),[w.valueNode,n]))}D({valueNode:v}),y(!1)},color:"primary",children:"Create"})]})]})]})}var je=n(352),be=n(324),Oe=n(325),fe=n(45),ve=n(274),he=n.n(ve);function pe(e){var t,n,b=Object(fe.a)(),O=Object(ae.b)().updateNodes,f=Object(j.useState)(!1),v=Object(i.a)(f,2),h=v[0],p=v[1],x=Object(j.useState)({valueNode:Object(l.b)(l.a.String,e.parentNode)}),g=Object(i.a)(x,2),y=g[0],k=g[1],D=Object(j.useState)(""),K=Object(i.a)(D,2),W=K[0],P=K[1];if(null===O)return null;var B=function(){p(!1),k({valueNode:Object(l.b)(l.a.String,e.parentNode)}),P("")};return Object(a.jsxs)("span",{className:Object(S.a)({margin:b.spacing(1),display:"flex"}),onClick:function(e){return e.stopPropagation()},children:[Object(a.jsx)(N.a,{variant:"outlined",color:"primary",size:"small",onClick:function(){return p(!0)},startIcon:Object(a.jsx)(he.a,{}),children:"Add"}),Object(a.jsxs)(F.a,{open:h,onClose:function(){return p(!1)},"aria-labelledby":"new-item-dialog-title",fullWidth:!0,maxWidth:"xs",children:[Object(a.jsx)(z.a,{id:"new-item-dialog-title",children:"Add New Item"}),Object(a.jsxs)("div",{className:Object(S.a)({position:"absolute",display:"flex",alignItems:"center",right:b.spacing(1),top:b.spacing(1)}),children:[Object(a.jsx)(m.a,{"aria-label":"minimize",onClick:function(){return p(!1)},children:Object(a.jsx)(be.a,{className:Object(S.a)({transform:"translate(0px, -7px)"})})}),Object(a.jsx)(m.a,{"aria-label":"close",onClick:B,children:Object(a.jsx)(Oe.a,{})})]}),Object(a.jsxs)(L.a,{dividers:!0,className:Object(S.a)({minHeight:180}),children:[Object(a.jsxs)("div",{className:Object(S.a)({display:"flex"}),children:[Object(a.jsxs)(o.a,{variant:"filled",className:Object(S.a)({minWidth:120}),children:[Object(a.jsx)(s.a,{children:"Type"}),Object(a.jsxs)(u.a,{label:"Type",value:null!==(t=null===(n=y.valueNode)||void 0===n?void 0:n.type)&&void 0!==t?t:"",onChange:function(t){var n=t.target.value;k({valueNode:Object(l.b)(n,e.parentNode)})},children:[Object(a.jsx)(d.a,{value:l.a.List,children:"List"}),Object(a.jsx)(d.a,{value:l.a.Boolean,children:"Question"}),Object(a.jsx)(d.a,{value:l.a.Date,children:"Date"}),Object(a.jsx)(d.a,{value:l.a.Number,children:"Number"}),Object(a.jsx)(d.a,{value:l.a.Object,children:"Folder"}),Object(a.jsx)(d.a,{value:l.a.String,children:"Text"})]})]}),Object(a.jsx)(C.a,{s1:!0}),Object(a.jsx)(w.a,{label:"Name",variant:"filled",type:"string",autoFocus:!0,value:W,onChange:function(e){return P(e.target.value)},fullWidth:!0})]}),Object(a.jsx)(C.b,{}),Object(a.jsx)(I,{node:y,onChange:k})]}),Object(a.jsx)(E.a,{children:Object(a.jsx)(N.a,{onClick:function(){if(y.valueNode){var t,n=Object(c.a)(Object(c.a)({},e.parentNode),{},{fields:[].concat(Object(r.a)(e.parentNode.fields),[{name:W,value:y.valueNode.key,parentKey:y.valueNode.parentKey}])});O([].concat(Object(r.a)(null!==(t=y.childNodes)&&void 0!==t?t:[]),[y.valueNode,n]))}B()},disabled:""===W,fullWidth:!0,variant:"contained",color:"primary",children:"Create"})})]})]})}var xe=n(130),ge=n(188),ye=n(326),me=n(251),Ne=n.n(me);function Ce(e){var t=e.objectFieldNode,n=t.name,o=t.value,s=t.parentKey,u=e.dialogProps,d=e.closeDialog,b=Object(ae.b)(),O=b.store,f=b.updateNodes,v=O.nodes[o],h=v.type===l.a.List?v.children.map((function(e){return O.nodes[e]})):void 0,p=O.nodes[s],x=Object(j.useState)({valueNode:v,childNodes:h}),g=Object(i.a)(x,2),y=g[0],m=g[1],S=Object(j.useState)(n),k=Object(i.a)(S,2),D=k[0],K=k[1];return null===f||p.type!==l.a.Object?null:Object(a.jsxs)(F.a,Object(c.a)(Object(c.a)({},u),{},{"aria-labelledby":"edit-dialog-title",fullWidth:!0,maxWidth:"xs",children:[Object(a.jsx)(z.a,{id:"edit-dialog-title",children:"Edit"}),Object(a.jsxs)(L.a,{children:[Object(a.jsx)(w.a,{label:"Name",variant:"filled",type:"string",autoFocus:!0,value:D,onChange:function(e){return K(e.target.value)},fullWidth:!0}),Object(a.jsx)(C.b,{s1:!0}),Object(a.jsx)(I,{node:y,onChange:m})]}),Object(a.jsxs)(E.a,{children:[Object(a.jsx)(N.a,{onClick:function(){var e=Object(c.a)(Object(c.a)({},p),{},{fields:p.fields.filter((function(e){return e.value!==o}))});f([e]),d()},children:"Delete"}),Object(a.jsx)(C.a,{s1:!0,grow:!0}),Object(a.jsx)(N.a,{onClick:d,children:"Cancel"}),Object(a.jsx)(N.a,{color:"primary",onClick:function(){if(y.valueNode){var e,t=Object(c.a)(Object(c.a)({},p),{},{fields:p.fields.map((function(e){return e.value!==o?e:Object(c.a)(Object(c.a)({},e),{},{name:D})}))});f([].concat(Object(r.a)(null!==(e=y.childNodes)&&void 0!==e?e:[]),[y.valueNode,t]))}d()},children:"Save"})]})]}))}function Se(e){var t=Object(j.useState)(!1),n=Object(i.a)(t,2),r=n[0],c=n[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(m.a,{onClick:function(e){e.stopPropagation(),c(!0)},children:Object(a.jsx)(Ne.a,{fontSize:"small"})}),r&&Object(a.jsx)("span",{onClick:function(e){return e.stopPropagation()},children:Object(a.jsx)(Ce,{objectFieldNode:e,dialogProps:{open:r,onClose:function(){return c(!1)}},closeDialog:function(){return c(!1)}})})]})}function ke(e){var t=Object(fe.a)(),n=Object(j.useState)(!1),r=Object(i.a)(n,2),c=r[0],l=r[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N.a,{classes:{root:Object(S.a)({flexShrink:0,display:"flex",borderRadius:0,borderInlineStartWidth:1,borderInlineStartColor:t.palette.divider,borderInlineStartStyle:"solid"})},onClick:function(e){e.stopPropagation(),l(!0)},children:Object(a.jsx)(Ne.a,{fontSize:"small"})}),c&&Object(a.jsx)(Ce,{objectFieldNode:e,dialogProps:{open:c,onClose:function(){return l(!1)}},closeDialog:function(){return l(!1)}})]})}var we=n(206),De=n(240);function Ke(e,t,n,a){var i="AFTER"===a?1:0,l=e.fields.findIndex((function(e){return e.value===n.value}))+i;return Object(c.a)(Object(c.a)({},e),{},{fields:[].concat(Object(r.a)(e.fields.slice(0,l)),[Object(c.a)(Object(c.a)({},t),{},{parentKey:e.key})],Object(r.a)(e.fields.slice(l)))})}function Ie(e){var t=e.objectField,n=e.position,o=Object(le.b)().isEditing,s=Object(fe.a)(),u=Object(we.b)().setBreadcrumbs,d=Object(ae.b)().store.nodes[t.value],O=function(e){var t=Object(j.useRef)(null),n=Object(le.b)().isEditing,a=Object(fe.a)(),r=Object(ae.b)(),o=r.store,s=r.updateNodes,u=Object(j.useState)(null),d=Object(i.a)(u,2),b=d[0],O=d[1],f=Object(j.useContext)(De.a);if(null===s||null===f||!n)return{draggableContainerProps:{draggable:!1},dropTargetProps:{style:{display:"none"}}};var v=f.draggedItem,h=f.setDraggedItem,p=e.value===(null===v||void 0===v?void 0:v.value);return{draggableContainerProps:{draggable:!0,style:{position:"relative"},onDragStart:function(t){h(e),t.stopPropagation()},onDragEnd:function(){return h(null)}},dropTargetProps:{ref:t,style:Object(c.a)({position:"absolute",display:null===v?"none":void 0,zIndex:1,borderColor:a.palette.primary.main},p?{left:-2,right:-2,top:-2,bottom:-2,borderWidth:2,borderRadius:a.shape.borderRadius,borderStyle:"dashed"}:{top:4,bottom:4,left:-11,right:-11,borderWidth:4,borderLeftStyle:"BEFORE"===b?"solid":"none",borderRightStyle:"AFTER"===b?"solid":"none",borderTopStyle:"none",borderBottomStyle:"none"}),onDrop:function(){if(null!==b&&null!==v){var t=o.nodes[v.parentKey],n=o.nodes[e.parentKey];if(t.type===l.a.Object&&n.type===l.a.Object){t.fields.filter((function(e){return e.value!==v.value})).length===t.fields.length&&console.log(t.fields,v.value);var a=Object(c.a)(Object(c.a)({},t),{},{fields:t.fields.filter((function(e){return e.value!==v.value}))});e.parentKey===v.parentKey?s([Ke(a,v,e,b)]):s([a,Ke(n,v,e,b)]),O(null),h(null)}}},onDragOver:function(e){if(null!=t.current&&!p){var n=t.current.getBoundingClientRect(),a=n.width/2,r=n.left+a;O(e.pageX>r?"AFTER":"BEFORE"),e.preventDefault()}},onDragLeave:function(){O(null)}}}}(t),f=O.draggableContainerProps,v=O.dropTargetProps,h=Object(j.useState)(!1),p=Object(i.a)(h,2),x=p[0],g=p[1],y=Object(j.useRef)(null),m=b.a.useState(!1),N=Object(i.a)(m,2),k=N[0],w=N[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(P.a,{in:!0,timeout:200*n,style:{transformOrigin:"0 0 0"},children:Object(a.jsxs)(xe.a,Object(c.a)(Object(c.a)({},f),{},{variant:"outlined",onClick:function(e){e.stopPropagation(),d.type===l.a.Object||d.type===l.a.List?o?g((function(e){return!e})):u((function(e){return[].concat(Object(r.a)(e),[t])})):w((function(e){return!e}))},ref:y,classes:{root:Object(S.a)([{maxWidth:450,cursor:"pointer",margin:s.spacing(1),padding:"".concat(s.spacing(1),"px ").concat(s.spacing(2),"px")},!o&&{flexGrow:1,flexBasis:150},o&&x&&{flexBasis:"100%",maxWidth:"100%"}])},children:[Object(a.jsx)("div",Object(c.a)({},v)),Object(a.jsxs)("div",{className:Object(S.a)({display:"flex",alignItems:"center"}),children:[Object(a.jsx)(re,{nodeKey:t.value}),Object(a.jsx)(C.a,{s1:!0}),Object(a.jsx)(W.a,{variant:"body2",classes:{root:Object(S.a)({whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"})},children:t.name}),Object(a.jsx)(C.a,{s1:!0,grow:!0}),o&&x&&Object(a.jsx)(Se,Object(c.a)({},t))]}),x&&o&&Object(a.jsx)(Ee,{nodeKey:t.value})]}))}),Object(a.jsxs)(We,{popoverProps:{open:k,onClose:function(){return w(!1)},anchorEl:y.current},objectField:t,children:[o&&Object(a.jsx)(ke,Object(c.a)({},t)),Object(a.jsx)(Pe,{objectField:t,onDone:function(){return w(!1)}})]})]})}function We(e){var t=e.children,n=e.popoverProps,r=e.objectField,i=Object(ae.b)().store,l=Object(fe.a)();return Object(a.jsx)(ge.a,Object(c.a)(Object(c.a)({anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},n),{},{onClick:function(e){return e.stopPropagation()},children:Object(a.jsxs)(xe.a,{className:Object(S.a)({maxWidth:450,display:"flex",backgroundColor:l.palette.background.default}),children:[Object(a.jsx)("span",{className:Object(S.a)({margin:l.spacing(2),minWidth:150}),children:Object(oe.b)(i,r.value)}),Object(a.jsx)(C.a,{s1:!0,grow:!0}),t]})}))}function Pe(e){var t=e.objectField,n=e.onDone,r=Object(fe.a)(),c=Object(ae.b)().store;return Object(a.jsx)(N.a,{className:Object(S.a)({flexShrink:0,display:"flex",borderRadius:"0 4px 4px 0",borderInlineStartWidth:1,borderInlineStartColor:r.palette.divider,borderInlineStartStyle:"solid"}),onClick:function(e){navigator.clipboard.writeText(Object(oe.b)(c,t.value)).then(n)},children:Object(a.jsx)(ye.a,{fontSize:"small"})})}function Fe(e){var t=e.node,n=Object(le.b)().isEditing,r=Object(we.b)().breadcrumbs,c=Object(j.useState)(""),l=Object(i.a)(c,2),s=l[0],u=l[1],d=se(s),b=Object(j.useState)(!1),O=Object(i.a)(b,2),f=O[0],v=O[1],h=t.fields.find((function(e){return r.findIndex((function(t){return t.value===e.value}))>=0}));return null!=h?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(C.b,{s1:!0}),Object(a.jsx)("div",{onClick:function(e){return e.stopPropagation()},className:Object(S.a)({display:"flex",flexWrap:"wrap"}),children:Object(a.jsx)(Ee,{nodeKey:h.value})})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(C.b,{s1:!0}),t.fields.length>7&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(o.a,{size:"small",variant:"outlined",fullWidth:f||""!==s,children:Object(a.jsx)(je.a,{onKeyDown:function(e){" "===e.key&&(e.preventDefault(),u((function(e){return e+" "})))},onFocus:function(){return v(!0)},onBlur:function(){return v(!1)},placeholder:"Search ...",value:s,onChange:function(e){return u(e.target.value)},startAdornment:Object(a.jsx)(T.a,{position:"start",children:Object(a.jsx)(ie.a,{})})})}),Object(a.jsx)(C.b,{s2:!0})]}),n||0!==t.fields.length?Object(a.jsxs)("div",{className:Object(S.a)({display:"flex",flexWrap:"wrap",margin:"-6px"}),children:[t.fields.filter((function(e){return e.name.toLocaleLowerCase().includes(s.toLocaleLowerCase())||d(e.value)})).map((function(e,t){return Object(a.jsx)(Ie,{objectField:e,position:t},e.value)})),n&&Object(a.jsx)(pe,{parentNode:t}),Object(a.jsx)("span",{className:Object(S.a)({flex:"1 0 50%",minWidth:320})})]}):Object(a.jsx)(W.a,{variant:"body1",children:"Folder is empty"})]})}function Ee(e){var t=e.nodeKey,n=Object(ae.b)().store,r=n.nodes[t];switch(r.type){case l.a.Boolean:case l.a.Date:case l.a.Null:case l.a.Number:case l.a.String:return Object(a.jsx)(W.a,{variant:"body2",color:"textSecondary",display:"inline",onClick:function(e){return e.stopPropagation()},className:Object(S.a)({userSelect:"text",minWidth:20}),children:Object(oe.b)(n,t)});case l.a.Object:return Object(a.jsx)(Fe,{node:r});case l.a.List:return Object(a.jsx)(ue,{node:r})}}},240:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i}));var a=n(33),r=n(0),c=Object(r.createContext)(null);function i(){var e=Object(r.useState)(null),t=Object(a.a)(e,2);return{draggedItem:t[0],setDraggedItem:t[1]}}}}]);
//# sourceMappingURL=1.8ca69f92.chunk.js.map