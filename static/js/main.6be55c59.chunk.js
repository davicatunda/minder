(this.webpackJsonpminder=this.webpackJsonpminder||[]).push([[0],{14:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(6),o=n.n(c),i=n(1);var l=function(e){var t=e.fontSize,n=e.children;return r.a.createElement("svg",{style:{fill:"currentColor",width:"1em",height:"1em",display:"inline-block",transition:"fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",flexShrink:0,fontSize:null!==t&&void 0!==t?t:"1.5rem"},focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},n)};var u=function(e){var t=e.size;return r.a.createElement(l,{fontSize:t},r.a.createElement("path",{d:"M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z"}))},s=n(3),f={border:0,padding:"6px 16px",minWidth:64,boxSizing:"border-box",boxShadow:"\n    0px 3px 1px -2px rgba(0,0,0,0.2),\n    0px 2px 2px 0px rgba(0,0,0,0.14),\n    0px 1px 5px 0px rgba(0,0,0,0.12)\n  ",borderRadius:4,display:"inline-flex",alignItems:"center",color:"#fff",fontWeight:500,lineHeight:1.75,textTransform:"uppercase",fontSize:"0.875rem",letterSpacing:"0.02857em",backgroundColor:"#1976d2",cursor:"pointer"},d=Object(s.a)({},f,{backgroundColor:"#e0e0e0",cursor:"not-allowed",color:"rgba(0, 0, 0, 0.4)"});var m=function(e){return!0===e.disabled?r.a.createElement("button",{style:d,disabled:!0},e.children):r.a.createElement("button",{onClick:e.onClick,style:f},e.children)};var p=function(e){return r.a.createElement("label",{style:f},r.a.createElement("input",{style:{display:"none"},type:"file",onChange:e.onChange}),r.a.createElement("span",{style:{display:"flex",marginRight:8,height:20,width:20}},r.a.createElement(u,{size:20})),e.label)};var v=function(e){var t=e.size;return r.a.createElement(l,{fontSize:t},r.a.createElement("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}))};function h(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{display:"flex",marginRight:8,height:20,width:20}},r.a.createElement(v,{size:20})),t)}var y=function(e){if(null==e.data)return r.a.createElement(m,{disabled:!0},r.a.createElement(h,null,e.children));var t=Object(s.a)({},f,{textDecoration:"inherit"}),n="data:text/plain;charset=base64,".concat(e.data);return r.a.createElement("a",{style:t,href:n,download:e.fileName},r.a.createElement(h,null,e.children))},b=n(7),g=n(4);var E=function(e){return r.a.createElement("button",Object.assign({},e,{style:{background:"none",border:0,padding:0,margin:0,cursor:"pointer"}}))};var w=function(e){var t=e.size;return r.a.createElement(l,{fontSize:t},r.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}))};var x=function(e){var t=e.name,n=e.value,c=e.setValue,o=Object(a.useState)(!1),l=Object(i.a)(o,2),u=l[0],s=l[1];return u?r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("input",{type:"text",name:t,onChange:function(e){return c(e.target.value)},value:n,onBlur:function(){return s(!1)},ref:function(e){e&&e.focus()},onKeyDown:function(e){"Enter"===e.key&&s(!1)}}),r.a.createElement(E,{onMouseDown:function(){return c(void 0)}},r.a.createElement(w,{szie:20}))):r.a.createElement("span",{onClick:function(){return s(!0)},style:{minWidth:40,display:"inline-block",cursor:"pointer"}},""===n?"?":n)};var C=function(e){var t=e.name,n=e.value,c=e.setValue,o=Object(a.useState)(!1),l=Object(i.a)(o,2),u=l[0],s=l[1];return u?r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("input",{type:"checkbox",checked:n,name:t,onChange:function(e){return c(!n)},value:n,ref:function(e){e&&e.focus()},onBlur:function(){return s(!1)},style:{cursor:"pointer"}}),r.a.createElement(E,{onMouseDown:function(){return c(void 0)}},r.a.createElement(w,{szie:20}))):r.a.createElement("span",{onClick:function(){return s(!0)},style:{cursor:"pointer"}},n?"yes":"no")};var S=function(e){var t=e.name,n=e.value,c=e.setValue,o=Object(a.useState)(!1),l=Object(i.a)(o,2),u=l[0],s=l[1];return u?r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("input",{type:"number",name:t,onChange:function(e){return!isNaN(e.target.value)&&c(Number(e.target.value))},value:n,onBlur:function(){return s(!1)},ref:function(e){e&&e.focus()},onKeyDown:function(e){"Enter"===e.key&&s(!1)}}),r.a.createElement(E,{onMouseDown:function(){return c(void 0)}},r.a.createElement(w,{szie:20}))):r.a.createElement("span",{onClick:function(){return s(!0)},style:{cursor:"pointer"}},n)};function k(e){var t=e.getFullYear().toString(),n=(e.getMonth()+1).toString().padStart(2,"0"),a=e.getDate().toString().padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(a)}var j=function(e){var t=e.name,n=e.value,c=e.setValue,o=Object(a.useState)(!1),l=Object(i.a)(o,2),u=l[0],s=l[1];return u?r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("input",{type:"date",name:t,onBlur:function(){return s(!1)},onChange:function(e){return c(function(e){var t=e.split("-"),n=Object(i.a)(t,3),a=n[0],r=n[1],c=n[2];return new Date(Number(a),Number(r)-1,Number(c))}(e.target.value))},value:k(n),ref:function(e){e&&e.focus()},onKeyDown:function(e){"Enter"===e.key&&s(!1)}}),r.a.createElement(E,{onMouseDown:function(){return c(void 0)}},r.a.createElement(w,{szie:20}))):r.a.createElement("span",{onClick:function(){return s(!0)}},function(e){var t=e.getFullYear().toString(),n=(e.getMonth()+1).toString().padStart(2,"0"),a=e.getDate().toString().padStart(2,"0");return"".concat(n,"-").concat(a,"-").concat(t)}(n))};var O=function(e){var t=e.size;return r.a.createElement(l,{fontSize:t},r.a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}))};var z=function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=n[0],o=n[1];return c?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return e.setValue(!1)}},"checkbox"),r.a.createElement("button",{onClick:function(){return e.setValue(0)}},"number"),r.a.createElement("button",{onClick:function(){return e.setValue("")}},"text"),r.a.createElement("button",{onClick:function(){return e.setValue(new Date)}},"date"),r.a.createElement("button",{onClick:function(){return e.setValue([])}},"list"),r.a.createElement("button",{onClick:function(){return e.setValue({})}},"object")):r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(E,{onClick:function(){return o(!0)}},r.a.createElement(O,{size:20})),r.a.createElement(E,{onMouseDown:function(){return e.setValue(void 0)}},r.a.createElement(w,{szie:20})))},A={marginRight:12,width:120,boxSizing:"border-box"};var V=function(e){var t=e.name,n=e.setName,c=e.isValid,o=Object(a.useState)(!1),l=Object(i.a)(o,2),u=l[0],f=l[1],d=Object(a.useState)(t),m=Object(i.a)(d,2),p=m[0],v=m[1],h=function(){c(p)&&(n(p),f(!1))};return u?r.a.createElement("input",{type:"text",name:p,style:A,onChange:function(e){return v(e.target.value)},value:p,onBlur:h,ref:function(e){e&&e.focus()},onKeyDown:function(e){"Enter"===e.key&&h()}}):r.a.createElement("span",{onClick:function(){return f(!0)},style:Object(s.a)({fontWeight:"bold",cursor:"pointer",lineHeight:"28px"},A)},""===p?"?":p)};var M=function(e){var t=e.size;return r.a.createElement(l,{fontSize:t},r.a.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}))},D={listStyle:"none",paddingLeft:12,borderLeft:"1px solid #00000030",margin:"4px 0 8px 0"},N={padding:4,display:"flex",alignItems:"center"};var R=function e(t){var n=t.node,a=t.setParentValue;return r.a.createElement("ul",{style:D},Object.keys(n).map((function(t,c){return r.a.createElement("li",{style:N,key:t},!(n instanceof Array)&&r.a.createElement(V,{name:t,setName:function(e){var r=Object.keys(n).reduce((function(a,r){return r===t?a[e]=n[r]:a[r]=n[r],a}),{});a(r)},isValid:function(e){return e===t||void 0===n[e]}}),function(){var c=n[t],o=function(e){return a(n instanceof Array?n.map((function(n,a){return a===Number(t)?e:n})).filter((function(e){return void 0!==e})):Object(s.a)({},n,Object(g.a)({},t,e)))};if(null===c)return r.a.createElement(z,{name:t,setValue:o});switch(typeof c){case"string":return function(e){return RegExp(/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/).test(e)}(c)?r.a.createElement(j,{name:t,value:new Date(c),setValue:o}):r.a.createElement(x,{name:t,value:c,setValue:o});case"number":return r.a.createElement(S,{name:t,value:c,setValue:o});case"boolean":return r.a.createElement(C,{name:t,value:c,setValue:o});case"object":default:return r.a.createElement(e,{node:c,setParentValue:o})}}())})),r.a.createElement("li",{style:N},r.a.createElement(E,{onClick:function(){if(n instanceof Array)return a([].concat(Object(b.a)(n),[null]));var e=Object.keys(n).reverse().find((function(e){return RegExp(/field:[0-9]+/).test(e)})),t=e?Number(e.split(":")[1]):0;return a(Object(s.a)({},n,Object(g.a)({},"field:".concat(t+1),null)))}},r.a.createElement(M,{size:20})),0===Object.keys(n).length&&r.a.createElement(E,{onClick:function(){return a(void 0)}},r.a.createElement(w,{size:20}))))},U=n(2),W=n.n(U);function H(e){return String.fromCharCode.apply(null,new Uint16Array(e))}function B(e){for(var t=new ArrayBuffer(2*e.length),n=new Uint16Array(t),a=0,r=e.length;a<r;a++)n[a]=e.charCodeAt(a);return t}function I(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function K(e){return function(e){var t=new Uint8Array(e.length);return Array.prototype.forEach.call(t,(function(t,n,a){a[n]=e.charCodeAt(n)})),btoa(I(t.buffer))}(I(e))}function L(e){return function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),a=0,r=e.length;a<r;a++)n[a]=e.charCodeAt(a);return t}(function(e){var t=atob(e),n=new Uint8Array(t.length);return Array.prototype.forEach.call(n,(function(e,n,a){a[n]=t.charCodeAt(n)})),I(n.buffer)}(e))}function P(e){return function(e){var t=new Uint16Array(e.length);return Array.prototype.forEach.call(t,(function(t,n,a){a[n]=e.charCodeAt(n)})),btoa(I(t.buffer))}(H(e))}function F(e){return B(function(e){var t=atob(e),n=new Uint8Array(t.length);return Array.prototype.forEach.call(n,(function(e,n,a){a[n]=t.charCodeAt(n)})),H(n.buffer)}(e))}var T=JSON.stringify({Personal:{},Community:{},Education:{},Work:{},Health:{}});var G=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),l=Object(i.a)(o,2),u=(l[0],l[1]),s=Object(a.useState)(null),f=Object(i.a)(s,2),d=f[0],v=f[1],h=Object(a.useState)(!1),b=Object(i.a)(h,2),g=(b[0],b[1]),E=Object(a.useState)(null),w=Object(i.a)(E,2),x=w[0],C=w[1];return Object(a.useEffect)((function(){null!=d&&null!=n&&(g(!0),function(e,t){var n,a,r,c,o,l;return W.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return n=e.split("!"),a=Object(i.a)(n,2),r=a[0],c=a[1],u.next=3,W.a.awrap(window.crypto.subtle.importKey("raw",F(t),{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]));case 3:return o=u.sent,u.next=6,W.a.awrap(window.crypto.subtle.decrypt({name:"AES-GCM",iv:L(r)},o,F(c)));case 6:return l=u.sent,u.abrupt("return",H(l));case 8:case"end":return u.stop()}}))}(d,n).then((function(e){C(e),g(!1)})))}),[d,n]),Object(a.useEffect)((function(){null!=x&&null!=n&&(u(!0),function(e,t){var n,a,r;return W.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return n=window.crypto.getRandomValues(new Uint8Array(12)),c.next=3,W.a.awrap(window.crypto.subtle.importKey("raw",F(t),{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]));case 3:return a=c.sent,c.next=6,W.a.awrap(window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},a,B(e)));case 6:return r=c.sent,c.abrupt("return","".concat(K(n),"!").concat(P(r)));case 8:case"end":return c.stop()}}))}(x,n).then((function(e){v(e),u(!1)})))}),[x,n]),r.a.createElement("div",null,r.a.createElement("div",{style:{maxWidth:750,boxShadow:"rgba(0, 0, 0, 0.2) 0px 3px 1px -2px, rgba(0, 0, 0, 0.14) 0px 2px 2px 0px, rgba(0, 0, 0, 0.12) 0px 1px 5px 0px",borderRadius:4,padding:12}},r.a.createElement("h1",null,"Primary"),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h2",null," Key "),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"center"}},r.a.createElement(m,{onClick:function(){(function(){var e,t;return W.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,W.a.awrap(window.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]));case 2:return e=n.sent,n.next=5,W.a.awrap(window.crypto.subtle.exportKey("raw",e));case 5:return t=n.sent,n.abrupt("return",P(t));case 7:case"end":return n.stop()}}))})().then(c)}},r.a.createElement("span",{style:{display:"flex",marginRight:8,height:20,width:20}},r.a.createElement(O,{size:20})),"Create Key"),r.a.createElement(p,{label:"Upload key",onChange:function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onloadend=function(){"string"===typeof n.result&&c(n.result)},n.readAsText(t)}}}),r.a.createElement(y,{data:n,fileName:"key.ish"},"Save key")),r.a.createElement("p",{style:{paddingLeft:20}},n)),r.a.createElement("div",null,r.a.createElement("h2",null," Data "),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"center"}},r.a.createElement(m,{onClick:function(){return C(T)}},r.a.createElement("span",{style:{display:"flex",marginRight:8,height:20,width:20}},r.a.createElement(O,{size:20})),"Create Data"),r.a.createElement(p,{label:"Upload data",onChange:function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onloadend=function(){"string"===typeof n.result&&v(n.result)},n.readAsText(t)}}}),r.a.createElement(y,{data:d,fileName:"data.ish"},"Save Data")))),r.a.createElement("div",{style:{margin:12}},x&&r.a.createElement(R,{node:JSON.parse(x),setParentValue:function(e){C(JSON.stringify(e))}}))))},J=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Y(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(G,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/minder",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/minder","/service-worker.js");J?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Y(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Y(t,e)}))}}()},8:function(e,t,n){e.exports=n(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.6be55c59.chunk.js.map