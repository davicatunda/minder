(this.webpackJsonpminder=this.webpackJsonpminder||[]).push([[8,3],{172:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return j}));var a,r=n(33),c=n(229),i=n(297);!function(e){e.List="List",e.Object="Object",e.Number="Number",e.Boolean="Boolean",e.String="String",e.Date="Date",e.Null="Null"}(a||(a={}));var o="ROOT";function l(e,t){var n,a=JSON.parse(e),r=a.title,i=void 0===r?null!==(n=t.title)&&void 0!==n?n:"Primary":r,l=a.created,s=void 0===l?new Date:l,d=a.updated,j=void 0===d?new Date:d,b=a.key,O=void 0===b?o:b,p=a.encryptionKey,f=void 0===p?t.encryptionKey:p,y=Object(c.a)(a,["title","created","updated","key","encryptionKey"]),h={},v=u(h,o,y);return{rootNode:{title:i,encryptionKey:f,created:new Date(s),updated:new Date(j),key:O,value:v.key},nodes:h}}function u(e,t,n){var r=function(e,t,n){var r=Object(i.a)();if(n instanceof Array){var c=n.map((function(n){return u(e,t,n)})).map((function(e){return e.key}));return{type:a.List,key:r,parentKey:t,children:c}}switch(typeof n){case"string":if(function(e){return RegExp(/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/).test(e)}(n)){var o=new Date(n);return{type:a.Date,key:r,parentKey:t,date:o}}return{type:a.String,key:r,parentKey:t,value:n};case"number":return{type:a.Number,key:r,parentKey:t,value:n};case"boolean":return{type:a.Boolean,key:r,parentKey:t,value:n};case"object":default:if(null==n)return{type:a.Null,key:r,parentKey:t};var l=Object.keys(n).map((function(t){return{name:t,value:u(e,r,n[t]).key,parentKey:r}}));return{type:a.Object,key:r,parentKey:t,fields:l}}}(e,t,n);return e[r.key]=r,r}function s(e){return JSON.stringify(Object(r.a)({title:e.rootNode.title,created:e.rootNode.created,updated:e.rootNode.updated,key:e.rootNode.key},d(e.nodes,e.rootNode.value)))}function d(e,t){var n=e[t];switch(n.type){case a.Boolean:return n.value;case a.Date:return n.date.toISOString();case a.List:return n.children.map((function(t){return d(e,t)}));case a.Null:return null;case a.Number:return n.value;case a.Object:var r={};return n.fields.forEach((function(t){r[t.name]=d(e,t.value)})),r;case a.String:return n.value}}function j(e,t){var n=Object(i.a)(),r=t.key;switch(e){case a.List:return{type:e,parentKey:r,key:n,children:[]};case a.Boolean:return{type:e,parentKey:r,key:n,value:!0};case a.Date:return{type:e,parentKey:r,key:n,date:new Date};case a.Null:return{type:e,parentKey:r,key:n};case a.Number:return{type:e,parentKey:r,key:n,value:0};case a.Object:return{type:e,parentKey:r,key:n,fields:[]};case a.String:return{type:e,parentKey:r,key:n,value:""}}}},173:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c}));var a=n(0),r=Object(a.createContext)(null);function c(){var e=Object(a.useContext)(r);if(null==e)throw new Error("missing DecodedDataContext.Provider");return e}},181:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));var a=n(5);function r(e){return Object(a.jsx)("span",{children:c(e.node.date)})}function c(e){var t=e.getFullYear().toString(),n=(e.getMonth()+1).toString().padStart(2,"0"),a=e.getDate().toString().padStart(2,"0");return"".concat(n,"-").concat(a,"-").concat(t)}},190:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i}));var a=n(42),r=n(0),c=Object(r.createContext)(null);function i(){var e=Object(r.useState)(null),t=Object(a.a)(e,2);return{draggedItem:t[0],setDraggedItem:t[1]}}},191:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(33),r=n(5),c=(n(0),n(139));function i(e){var t=e.style,n=Object(c.a)();return Object(r.jsx)("div",{style:Object(a.a)({backgroundColor:n.palette.text.primary,opacity:.1,filter:"blur(4px)"},t)})}},193:function(e,t,n){"use strict";n.d(t,"a",(function(){return me}));var a=n(5),r=n(172),c=n(181),i=n(183),o=n(33),l=n(42),u=n(0),s=n(202),d=n.n(s),j=n(165),b=n(300),O=n(274),p=n(273),f=n(278),y=n(277),h=n(301),v=n(269),x=n(270),g=n(295),m=n(276),S=n(293);function C(e){var t=e.node,n=e.onChange;if(null===t)return null;switch(t.type){case r.a.List:return null;case r.a.Boolean:return Object(a.jsx)(D,{node:t,onChange:n});case r.a.Date:return Object(a.jsx)(N,{node:t,onChange:n});case r.a.Null:throw Error("Impossible");case r.a.Number:return Object(a.jsx)(w,{node:t,onChange:n});case r.a.Object:return null;case r.a.String:return Object(a.jsx)(k,{node:t,onChange:n})}}function w(e){var t=e.node,n=e.onChange;return Object(a.jsx)(h.a,{variant:"filled",id:"name",label:"Initial Value",type:"number",value:t.value,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){n(Object(o.a)(Object(o.a)({},t),{},{value:isNaN(Number(e.target.value))?t.value:Number(e.target.value)}))})),fullWidth:!0})}function N(e){var t=e.node,n=e.onChange;return Object(a.jsx)(S.a,{disableToolbar:!0,variant:"inline",inputVariant:"filled",fullWidth:!0,format:"MM/dd/yyyy",label:"Initial Date",value:t.date,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){n(Object(o.a)(Object(o.a)({},t),{},{date:null!==e&&void 0!==e?e:new Date}))})),KeyboardButtonProps:{"aria-label":"change date"}})}function D(e){var t=e.node,n=e.onChange;return Object(a.jsxs)(v.a,{variant:"filled",fullWidth:!0,children:[Object(a.jsx)(x.a,{children:"Initial value"}),Object(a.jsxs)(g.a,{label:"Type",value:t.value,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var a=e.target.value;n(Object(o.a)(Object(o.a)({},t),{},{value:"true"===a}))})),children:[Object(a.jsx)(m.a,{value:"true",children:"Yes"}),Object(a.jsx)(m.a,{value:"false",children:"No"})]})]})}function k(e){var t=e.node,n=e.onChange;return Object(a.jsx)(h.a,{id:"name",label:"Initial Value",variant:"filled",type:"string",value:t.value,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){n(Object(o.a)(Object(o.a)({},t),{},{value:e.target.value}))})),fullWidth:!0})}var K=n(267),A=n(275),T=n(257),E=n(258),P=n(259),L=n(260),I=n(222),B=n.n(I),W=n(223),M=n.n(W),R=n(221),F=n.n(R),U=n(220),V=n.n(U),z=n(224),Y=n.n(z),G=n(219),J=n.n(G),q=n(218),Q=n.n(q),H=n(173);var X=function(e){switch(Object(H.b)().store.nodes[e.nodeKey].type){case r.a.Boolean:return Object(a.jsx)(Q.a,{});case r.a.Date:return Object(a.jsx)(J.a,{});case r.a.List:return Object(a.jsx)(V.a,{});case r.a.Null:return Object(a.jsx)(F.a,{});case r.a.Number:return Object(a.jsx)(B.a,{});case r.a.Object:return Object(a.jsx)(M.a,{});case r.a.String:return Object(a.jsx)(Y.a,{})}},Z=n(201),$=n.n(Z);function _(e){var t=Object(H.b)().store;return function(n){return""===e||ee(t,n,e.toLocaleLowerCase())}}function ee(e,t,n){var a=e.nodes[t];switch(a.type){case r.a.Boolean:return!1;case r.a.Date:return Object(c.a)(a.date).toLocaleLowerCase().includes(n);case r.a.List:return a.children.some((function(t){return ee(e,t,n)}));case r.a.Null:return"null"===n;case r.a.Number:return a.value.toString().toLocaleLowerCase().includes(n);case r.a.Object:return a.fields.some((function(t){return t.name.toLocaleLowerCase().includes(n)||ee(e,t.value,n)}));case r.a.String:return a.value.toLocaleLowerCase().includes(n)}}function te(e){var t=Object(u.useState)(""),n=Object(l.a)(t,2),r=n[0],c=n[1],i=_(r);return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:e.node.children.length>7?Object(a.jsx)(v.a,{children:Object(a.jsx)(K.a,{value:r,onChange:function(e){return c(e.target.value)},placeholder:"Search ...",startAdornment:Object(a.jsx)(A.a,{position:"start",children:Object(a.jsx)($.a,{})})})}):null}),Object(a.jsxs)(T.a,{children:[e.node.children.filter(i).map((function(e){return Object(a.jsxs)(E.a,{button:!0,children:[Object(a.jsx)(P.a,{children:Object(a.jsx)(X,{nodeKey:e})}),Object(a.jsx)(L.a,{primary:Object(a.jsx)(me,{nodeKey:e})})]})})),Object(a.jsx)(E.a,{children:Object(a.jsx)(L.a,{onClick:function(e){return e.stopPropagation()},primary:Object(a.jsx)(ne,{parentNode:e.node})})})]})]})}function ne(e){var t,n=Object(H.b)(),c=n.store,s=n.updateNodes,h=e.parentNode.children.length>0?Object(r.b)(c.nodes[e.parentNode.children[0]].type,e.parentNode):null,S=Object(u.useState)(!1),w=Object(l.a)(S,2),N=w[0],D=w[1],k=Object(u.useState)(h),K=Object(l.a)(k,2),A=K[0],T=K[1];return null==s?null:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(j.a,{variant:"outlined",color:"primary",size:"small",onClick:function(){return D(!0)},startIcon:Object(a.jsx)(d.a,{}),children:["Add"," "]}),Object(a.jsxs)(b.a,{open:N,onClose:function(){return D(!1)},"aria-labelledby":"new-field-dialog-title",children:[Object(a.jsx)(y.a,{id:"new-field-dialog-title",children:"Add New List Item"}),Object(a.jsxs)(p.a,{children:[Object(a.jsx)(f.a,{children:"All items on a list must have the same type."}),!h&&Object(a.jsxs)(v.a,{children:[Object(a.jsx)(x.a,{id:"select-type-label",children:"Type"}),Object(a.jsxs)(g.a,{labelId:"select-type-label",value:null!==(t=null===A||void 0===A?void 0:A.type)&&void 0!==t?t:"",onChange:function(t){var n=t.target.value;T(Object(r.b)(n,e.parentNode))},fullWidth:!0,children:[Object(a.jsx)(m.a,{value:r.a.Boolean,children:"Boolean"}),Object(a.jsx)(m.a,{value:r.a.Date,children:"Date"}),Object(a.jsx)(m.a,{value:r.a.Number,children:"Number"}),Object(a.jsx)(m.a,{value:r.a.Object,children:"Object"}),Object(a.jsx)(m.a,{value:r.a.String,children:"String"})]})]}),Object(a.jsx)(C,{node:A,onChange:T})]}),Object(a.jsxs)(O.a,{children:[Object(a.jsx)(j.a,{onClick:function(){return D(!1)},color:"primary",children:"Cancel"}),Object(a.jsx)(j.a,{onClick:function(){if(null!==A){var t=Object(o.a)(Object(o.a)({},e.parentNode),{},{children:[].concat(Object(i.a)(e.parentNode.children),[A.key])});s([A,t])}T(h),D(!1)},color:"primary",children:"Create"})]})]})]})}var ae=n(280),re=n(281),ce=n(139),ie=n(304),oe=n(163),le=n(256),ue=n(261),se=n(279),de=n(263),je=n(191),be=n(225),Oe=n.n(be),pe=n(162),fe=n(190);function ye(e,t,n,a){var r="AFTER"===a?1:0,c=e.fields.findIndex((function(e){return e.value===n.value}))+r;return Object(o.a)(Object(o.a)({},e),{},{fields:[].concat(Object(i.a)(e.fields.slice(0,c)),[t],Object(i.a)(e.fields.slice(c)))})}function he(e){var t=e.name,n=e.value,c=e.parentKey,i=Object(ce.a)(),s=function(e){var t=Object(u.useRef)(null),n=Object(ce.a)(),a=Object(H.b)(),c=a.store,i=a.updateNodes,s=Object(u.useState)(null),d=Object(l.a)(s,2),j=d[0],b=d[1],O=Object(u.useContext)(fe.a);if(null===i||null===O)return{draggableContainerProps:{draggable:!1},dropTargetProps:{style:{display:"none"}}};var p=O.draggedItem,f=O.setDraggedItem,y=e.value===(null===p||void 0===p?void 0:p.value);return{draggableContainerProps:{draggable:!0,style:{position:"relative"},onDragStart:function(t){f(e),t.stopPropagation()},onDragEnd:function(){return f(null)}},dropTargetProps:{ref:t,style:Object(o.a)({position:"absolute",display:null===p?"none":void 0,zIndex:1,borderColor:n.palette.primary.main},y?{left:0,right:0,top:0,bottom:0,borderWidth:2,borderRadius:n.shape.borderRadius,borderStyle:"dashed"}:{top:4,bottom:4,left:-2,right:-2,borderWidth:4,borderLeftStyle:"BEFORE"===j?"solid":"none",borderRightStyle:"AFTER"===j?"solid":"none",borderTopStyle:"none",borderBottomStyle:"none"}),onDrop:function(){if(null!==j&&null!==p){var t=c.nodes[p.parentKey],n=c.nodes[e.parentKey];if(t.type===r.a.Object&&n.type===r.a.Object){var a=Object(o.a)(Object(o.a)({},t),{},{fields:t.fields.filter((function(e){return e.value!==p.value}))});e.parentKey===p.parentKey?i([ye(a,p,e,j)]):i([a,ye(n,p,e,j)]),b(null),f(null)}}},onDragOver:function(e){if(null!=t.current&&!y){var n=t.current.getBoundingClientRect(),a=n.width/2,r=n.left+a;console.log("is happening"),b(e.pageX>r?"AFTER":"BEFORE"),e.preventDefault()}},onDragLeave:function(){b(null)}}}}({name:t,value:n,parentKey:c}),d=s.draggableContainerProps,j=s.dropTargetProps,b=function(e,t){var n=Object(H.b)().store;if(e.length>20)return!0;var a=n.nodes[t];switch(a.type){case r.a.Boolean:case r.a.Date:return!1;case r.a.List:return!0;case r.a.Null:return!1;case r.a.Number:return a.value.toString().length>30;case r.a.Object:return!0;case r.a.String:return a.value.length>30}}(t,n),O=Object(u.useState)(!b),p=Object(l.a)(O,2),f=p[0],y=p[1];return Object(a.jsxs)(le.a,Object(o.a)(Object(o.a)({item:!0,xs:12,sm:f||!b?6:12,md:f||!b?4:12},d),{},{children:[Object(a.jsx)("div",Object(o.a)({},j)),Object(a.jsx)(ue.a,{onClick:function(e){e.stopPropagation(),y((function(e){return!e}))},variant:"outlined",children:Object(a.jsx)(se.a,{disableRipple:!0,children:Object(a.jsxs)(de.a,{children:[Object(a.jsxs)(pe.a,{gutterBottom:!0,variant:"h6",style:{display:"flex",alignItems:"center"},children:[Object(a.jsx)(X,{nodeKey:n}),Object(a.jsx)("span",{style:{width:i.spacing(1)}}),f&&t.length>19?"".concat(t.slice(0,18),"..."):t]}),!f&&Object(a.jsx)("span",{onClick:function(e){return e.stopPropagation()},style:{position:"absolute",top:i.spacing(2),right:i.spacing(2)},children:Object(a.jsx)(ve,{name:t,value:n,parentKey:c})}),f?Object(a.jsx)(je.a,{style:{width:"80%",height:12,marginTop:i.spacing(2)}}):Object(a.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:Object(a.jsx)(me,{nodeKey:n})})]})})})]}))}function ve(e){var t=e.name,n=e.value,c=e.parentKey,i=Object(ce.a)(),s=Object(H.b)(),d=s.store,f=s.updateNodes,v=Object(u.useState)(t),x=Object(l.a)(v,2),g=x[0],m=x[1],S=d.nodes[n],w=d.nodes[c],N=Object(u.useState)(S),D=Object(l.a)(N,2),k=D[0],K=D[1],A=Object(u.useState)(!1),T=Object(l.a)(A,2),E=T[0],P=T[1];return Object(u.useEffect)((function(){m(t),K(S)}),[t,S,w]),null===f||w.type!==r.a.Object?null:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(oe.a,{onClick:function(){return P(!0)},size:"small",children:Object(a.jsx)(Oe.a,{fontSize:"small"})}),E&&Object(a.jsxs)(b.a,{open:E,onClose:function(){return P(!1)},"aria-labelledby":"edit-dialog-title",fullWidth:!0,maxWidth:"xs",children:[Object(a.jsx)(y.a,{id:"edit-dialog-title",children:"Edit"}),Object(a.jsxs)(p.a,{children:[Object(a.jsx)(h.a,{label:"Name",variant:"outlined",type:"string",autoFocus:!0,value:g,onChange:function(e){return m(e.target.value)},fullWidth:!0}),Object(a.jsx)("span",{style:{width:i.spacing(1)}}),Object(a.jsx)(C,{node:k,onChange:K})]}),Object(a.jsxs)(O.a,{children:[Object(a.jsx)(j.a,{onClick:function(){return P(!1)},children:"Cancel"}),Object(a.jsx)(j.a,{onClick:function(){var e=Object(o.a)(Object(o.a)({},w),{},{fields:w.fields.map((function(e){return e.value!==n?e:Object(o.a)(Object(o.a)({},e),{},{name:g})}))});f([k,e]),P(!1)},children:"Save"})]})]})]})}function xe(e){var t=e.node,n=Object(u.useState)(""),r=Object(l.a)(n,2),c=r[0],i=r[1],o=_(c),s=Object(ce.a)(),d=Object(u.useState)(!1),j=Object(l.a)(d,2),b=j[0],O=j[1];return Object(a.jsxs)(a.Fragment,{children:[t.fields.length>7?Object(a.jsxs)(le.a,{item:!0,xs:12,sm:b?6:4,md:b?4:3,children:[Object(a.jsx)(v.a,{variant:"outlined",fullWidth:b||""!==c,children:Object(a.jsx)(ie.a,{onKeyDown:function(e){" "===e.key&&(e.preventDefault(),i((function(e){return e+" "})))},onFocus:function(){return O(!0)},onBlur:function(){return O(!1)},placeholder:"Search ...",value:c,onChange:function(e){return i(e.target.value)},startAdornment:Object(a.jsx)(A.a,{position:"start",children:Object(a.jsx)($.a,{})})})}),Object(a.jsx)("div",{style:{height:s.spacing(2)}})]}):null,Object(a.jsxs)(le.a,{container:!0,spacing:1,onClick:function(e){return e.stopPropagation()},children:[t.fields.filter((function(e){return e.name.toLocaleLowerCase().includes(c.toLocaleLowerCase())||o(e.value)})).map((function(e){return Object(a.jsx)(he,{name:e.name,value:e.value,parentKey:t.key},e.value)})),Object(a.jsx)(le.a,{item:!0,xs:12,sm:6,md:4,style:{display:"flex"},children:Object(a.jsx)(ge,{parentNode:t})})]})]})}function ge(e){var t=Object(ce.a)(),n=Object(H.b)().updateNodes,c=Object(u.useState)(!1),s=Object(l.a)(c,2),f=s[0],S=s[1],w=Object(u.useState)(Object(r.b)(r.a.String,e.parentNode)),N=Object(l.a)(w,2),D=N[0],k=N[1],K=Object(u.useState)(""),A=Object(l.a)(K,2),T=A[0],E=A[1];if(null===n)return null;var P=function(){S(!1),k(Object(r.b)(r.a.String,e.parentNode)),E("")};return Object(a.jsxs)("span",{style:{display:"flex",alignItems:"center"},onClick:function(e){return e.stopPropagation()},children:[Object(a.jsx)(oe.a,{onClick:function(e){S(!0)},children:Object(a.jsx)(d.a,{fontSize:"large"})}),Object(a.jsxs)(b.a,{open:f,onClose:function(){return S(!1)},"aria-labelledby":"new-item-dialog-title",fullWidth:!0,maxWidth:"xs",children:[Object(a.jsx)(y.a,{id:"new-item-dialog-title",children:"Add New Item"}),Object(a.jsxs)("div",{style:{position:"absolute",display:"flex",alignItems:"center",right:t.spacing(1),top:t.spacing(1)},children:[Object(a.jsx)(oe.a,{"aria-label":"minimize",onClick:function(){return S(!1)},children:Object(a.jsx)(ae.a,{style:{transform:"translate(0px, -7px)"}})}),Object(a.jsx)(oe.a,{"aria-label":"close",onClick:P,children:Object(a.jsx)(re.a,{})})]}),Object(a.jsxs)(p.a,{dividers:!0,style:{minHeight:180},children:[Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsxs)(v.a,{variant:"filled",style:{minWidth:120},children:[Object(a.jsx)(x.a,{children:"Type"}),Object(a.jsxs)(g.a,{label:"Type",value:D.type,onChange:function(t){var n=t.target.value;k(Object(r.b)(n,e.parentNode))},children:[Object(a.jsx)(m.a,{value:r.a.List,children:"List"}),Object(a.jsx)(m.a,{value:r.a.Boolean,children:"Question"}),Object(a.jsx)(m.a,{value:r.a.Date,children:"Date"}),Object(a.jsx)(m.a,{value:r.a.Number,children:"Number"}),Object(a.jsx)(m.a,{value:r.a.Object,children:"Folder"}),Object(a.jsx)(m.a,{value:r.a.String,children:"Text"})]})]}),Object(a.jsx)("span",{style:{width:t.spacing(1)}}),Object(a.jsx)(h.a,{label:"Name",variant:"filled",type:"string",autoFocus:!0,value:T,onChange:function(e){return E(e.target.value)},fullWidth:!0})]}),Object(a.jsx)("div",{style:{height:t.spacing(1)}}),Object(a.jsx)(C,{node:D,onChange:k})]}),Object(a.jsx)(O.a,{children:Object(a.jsx)(j.a,{onClick:function(){if(D){var t=Object(o.a)(Object(o.a)({},e.parentNode),{},{fields:[].concat(Object(i.a)(e.parentNode.fields),[{name:T,value:D.key,parentKey:D.parentKey}])});n([D,t])}P()},fullWidth:!0,variant:"contained",color:"primary",children:"Create"})})]})]})}function me(e){var t=e.nodeKey,n=Object(H.b)().store.nodes[t];switch(n.type){case r.a.Boolean:return Object(a.jsx)(we,{node:n});case r.a.Date:return Object(a.jsx)(c.b,{node:n});case r.a.List:return Object(a.jsx)(te,{node:n});case r.a.Null:return Object(a.jsx)(Ne,{node:n});case r.a.Number:return Object(a.jsx)(Ce,{node:n});case r.a.Object:return Object(a.jsx)(xe,{node:n});case r.a.String:return Object(a.jsx)(Se,{node:n})}}function Se(e){return Object(a.jsx)(pe.a,{variant:"body2",color:"textSecondary",component:"p",children:e.node.value})}function Ce(e){return Object(a.jsx)(pe.a,{variant:"body2",color:"textSecondary",component:"p",children:e.node.value})}function we(e){return Object(a.jsx)(pe.a,{variant:"body2",color:"textSecondary",component:"p",children:e.node.value?"Yes":"No"})}function Ne(e){return Object(a.jsx)(pe.a,{variant:"body2",color:"textSecondary",component:"p",children:"Null"})}},203:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return g}));var a=n(226),r=n.n(a),c=n(33),i=n(42),o=n(227),l=n(172);function u(e){return String.fromCharCode.apply(null,new Uint16Array(e))}function s(e){for(var t=new ArrayBuffer(2*e.length),n=new Uint16Array(t),a=0,r=e.length;a<r;a++)n[a]=e.charCodeAt(a);return t}function d(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function j(e){return function(e){var t=new Uint8Array(e.length);return Array.prototype.forEach.call(t,(function(t,n,a){a[n]=e.charCodeAt(n)})),btoa(d(t.buffer))}(d(e))}function b(e){return function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),a=0,r=e.length;a<r;a++)n[a]=e.charCodeAt(a);return t}(function(e){var t=atob(e),n=new Uint8Array(t.length);return Array.prototype.forEach.call(n,(function(e,n,a){a[n]=t.charCodeAt(n)})),d(n.buffer)}(e))}function O(e){return function(e){var t=new Uint16Array(e.length);return Array.prototype.forEach.call(t,(function(t,n,a){a[n]=e.charCodeAt(n)})),btoa(d(t.buffer))}(u(e))}function p(e){return s(function(e){var t=atob(e),n=new Uint8Array(t.length);return Array.prototype.forEach.call(n,(function(e,n,a){a[n]=t.charCodeAt(n)})),u(n.buffer)}(e))}var f=n(0);function y(){return(y=Object(o.a)(r.a.mark((function e(t,n){var a,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.crypto.getRandomValues(new Uint8Array(12)),e.next=3,window.crypto.subtle.importKey("raw",p(n),{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]);case 3:return c=e.sent,e.next=6,window.crypto.subtle.encrypt({name:"AES-GCM",iv:a},c,s(t));case 6:return i=e.sent,e.abrupt("return","".concat(j(a),"!").concat(O(i)));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(o.a)(r.a.mark((function e(t,n){var a,c,o,l,s,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.split("!"),c=Object(i.a)(a,2),o=c[0],l=c[1],e.next=3,window.crypto.subtle.importKey("raw",p(n),{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]);case 3:return s=e.sent,e.next=6,window.crypto.subtle.decrypt({name:"AES-GCM",iv:b(o)},s,p(l));case 6:return d=e.sent,e.abrupt("return",u(d));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return x.apply(this,arguments)}function x(){return(x=Object(o.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]);case 2:return t=e.sent,e.next=5,window.crypto.subtle.exportKey("raw",t);case 5:return n=e.sent,e.abrupt("return",O(n));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t,n){var a="{"===n[0],r=a?function(){return Object(l.d)(n,{title:e,encryptionKey:t})}:null,o=Object(f.useState)(r),u=Object(i.a)(o,2),s=u[0],d=u[1],j=a?null:n;Object(f.useEffect)((function(){null!=j&&function(e,t){return h.apply(this,arguments)}(j,t).then((function(n){d(Object(l.d)(n,{title:e,encryptionKey:t}))}))}),[j,t,e]);var b=Object(f.useState)(null),O=Object(i.a)(b,2),p=O[0],v=O[1];return Object(f.useEffect)((function(){null!=s&&function(e,t){return y.apply(this,arguments)}(Object(l.c)(s),t).then(v)}),[s,t]),null===s||null===p?null:{store:s,updateNodes:function(e){var t=Object(c.a)({},s.nodes);e.forEach((function(e){return t[e.key]=e}));var n={rootNode:Object(c.a)(Object(c.a)({},s.rootNode),{},{updated:new Date}),nodes:t};d(n)},encryptedData:p}}},208:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(5),r=n(139),c=n(135),i=n(302),o=n(163),l=n(162),u=n(190),s=n(42),d=n(261),j=n(262),b=n(263),O=n(266),p=n(165),f=n(0),y=n(191),h=n(181);function v(e){var t=e.rootNode,n=e.encryptedData,r=Object(f.useState)(!0),c=Object(s.a)(r,2),o=c[0],u=c[1];return Object(a.jsxs)(d.a,{style:{maxWidth:400},variant:"outlined",children:[Object(a.jsx)(j.a,{title:"Details"}),Object(a.jsxs)(b.a,{children:[Object(a.jsx)(l.a,{variant:"body2",children:"Title"}),Object(a.jsx)(l.a,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:t.title}),Object(a.jsx)(l.a,{variant:"body2",children:"Encrypted key"}),Object(a.jsx)(i.a,{title:"double click to show",placement:"top",children:Object(a.jsx)(l.a,{variant:"body2",color:"textSecondary",gutterBottom:!0,onDoubleClick:function(){return u((function(e){return!e}))},children:o?Object(a.jsx)(y.a,{style:{height:12,width:"100%",marginTop:8}}):t.encryptionKey})}),Object(a.jsx)(l.a,{variant:"body2",children:"Created"}),Object(a.jsx)(l.a,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:Object(h.a)(t.created)}),Object(a.jsx)(l.a,{variant:"body2",children:"Last Updated"}),Object(a.jsx)(l.a,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:Object(h.a)(t.updated)})]}),Object(a.jsxs)(O.a,{children:[Object(a.jsx)(p.a,{size:"small",color:"primary",href:"data:text/plain;charset=base64,".concat(t.encryptionKey),download:"key.ish",children:"Save Key"}),Object(a.jsx)(p.a,{size:"small",color:"primary",disabled:null==n,href:"data:text/plain;charset=base64,".concat(n),download:"data.ish",children:"Save Data"})]})]})}var x=n(193),g=n(281),m=n(173),S=n(203);function C(e){var t=e.children,n=e.title,s=e.initialValues,d=s.encryptionKey,j=s.initialData,b=e.onClose,O=Object(r.a)(),p=Object(u.b)(),f=Object(S.b)(n,d,j);if(!f)return null;var y=f.store,h=f.updateNodes,C=f.encryptedData;return Object(a.jsx)(u.a.Provider,{value:p,children:Object(a.jsx)(m.a.Provider,{value:{store:y,updateNodes:h},children:Object(a.jsxs)(c.a,{style:{position:"relative",padding:O.spacing(3)},children:[Object(a.jsx)("div",{style:{position:"absolute",right:O.spacing(1),top:O.spacing(1)},children:Object(a.jsx)(i.a,{title:"Did you save? Just checking",arrow:!0,children:Object(a.jsx)(o.a,{"aria-label":"close card",onClick:b,children:Object(a.jsx)(g.a,{})})})}),Object(a.jsx)(v,{rootNode:y.rootNode,encryptedData:C}),Object(a.jsx)("div",{style:{height:O.spacing(3)}}),Object(a.jsx)(l.a,{variant:"h2",children:"Data"}),Object(a.jsx)(x.a,{nodeKey:y.rootNode.value}),t&&t(y)]})})})}},299:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return z}));var a=n(183),r=n(33),c=n(42),i=n(5),o=n(139),l=n(165),u=n(208),s=n(0),d=n(282),j=n(82),b=n(283),O=n(284),p=n(285),f=n(286),y=n(289),h=n(290),v=n(135),x=n(305),g=n(162),m=n(301),S=n(275),C=n(302),w=n(163),N=n(287),D=n(271),k=n(306),K=n(288),A=n(296),T=n(34);function E(e){var t=e.children,n=e.onDrop;return Object(i.jsx)("div",{onDrop:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){e.preventDefault(),n(e.dataTransfer.files[0])})),onDragOver:function(e){e.preventDefault()},onDragEnter:function(e){e.preventDefault()},children:t})}var P=n(203);function L(){var e=Object(j.a)(["\n  query OfflinePage {\n    standardProposal {\n      version\n      data\n    }\n  }\n"]);return L=function(){return e},e}var I,B=Object(T.gql)(L());function W(e){var t=e.onSubmit,n=Object(o.a)(),a=Object(s.useState)(null),r=Object(c.a)(a,2),u=r[0],j=r[1],b=Object(s.useState)(""),O=Object(c.a)(b,2),p=O[0],f=O[1],y=Object(s.useState)(""),h=Object(c.a)(y,2),x=h[0],g=h[1],m=Object(T.useQuery)(B,{onCompleted:function(e){j(e.standardProposal.data)}}).data;return null==m?null:Object(i.jsxs)(v.a,{style:{padding:n.spacing(2),margin:"auto",maxWidth:380},children:[Object(i.jsx)(M,{}),Object(i.jsx)(R,{title:p,setTitle:f}),Object(i.jsx)(F,{encryptionKey:x,setEncryptionKey:g}),Object(i.jsx)(U,{standardProposal:m.standardProposal,setInitialData:j}),Object(i.jsx)("div",{style:{height:n.spacing(1)}}),Object(i.jsx)(l.a,{fullWidth:!0,variant:"contained",disabled:""===x||null===u,color:"primary",startIcon:Object(i.jsx)(d.a,{}),onClick:function(){t({title:""!==p?p:"Primary",initialValues:{encryptionKey:x,initialData:u}})},children:"Open"})]})}function M(){return Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(i.jsx)(x.a,{children:Object(i.jsx)(b.a,{})}),Object(i.jsx)(g.a,{variant:"h5",children:"Start"})]})}function R(e){var t=e.title,n=e.setTitle;return Object(i.jsx)(m.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Title",autoComplete:"title",value:t,onChange:function(e){return n(e.target.value)},autoFocus:!0})}function F(e){var t=e.encryptionKey,n=e.setEncryptionKey;return Object(i.jsx)(E,{onDrop:function(e){return V(e,n)},children:Object(i.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Encryption Key",type:"password",autoComplete:"current-encryption-key",value:t,onChange:function(e){return n(e.target.value)},InputProps:{endAdornment:Object(i.jsx)(S.a,{position:"end",children:Object(i.jsx)(C.a,{title:"Generate key",arrow:!0,children:Object(i.jsx)(w.a,{"aria-label":"generate encryption Key",onClick:function(){return Object(P.a)().then(n)},children:Object(i.jsx)(O.a,{})})})})}})})}function U(e){var t=e.standardProposal,n=e.setInitialData,a=Object(o.a)(),r=Object(s.useState)(!1),u=Object(c.a)(r,2),d=u[0],j=u[1],b=Object(s.useState)(I.STANDARD),O=Object(c.a)(b,2),v=O[0],x=O[1],m=Object(s.useState)(null),S=Object(c.a)(m,2),C=S[0],T=S[1];return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(i.jsx)(g.a,{variant:"body1",children:"Data Options"}),Object(i.jsx)(w.a,{onClick:function(){return j((function(e){return!e}))},"aria-expanded":d,"aria-label":"show more",children:d?Object(i.jsx)(p.a,{}):Object(i.jsx)(f.a,{})})]}),Object(i.jsxs)(N.a,{in:d,timeout:"auto",unmountOnExit:!0,children:[Object(i.jsx)(D.a,{component:"legend",children:"Initial Data"}),Object(i.jsxs)(k.a,{"aria-label":"Initial data",value:v,onChange:function(e){var a=e.target.value;switch(x(a),a){case I.CUSTOM:return n(C);case I.EMPTY:return n("{}");case I.STANDARD:return n(t.data)}},children:[Object(i.jsx)(K.a,{value:I.STANDARD,control:Object(i.jsx)(A.a,{}),label:"Standard v".concat(t.version)}),Object(i.jsx)(K.a,{value:I.EMPTY,control:Object(i.jsx)(A.a,{}),label:"Empty"}),Object(i.jsx)(K.a,{value:I.CUSTOM,control:Object(i.jsx)(A.a,{}),label:"My own"})]}),I.CUSTOM===v&&Object(i.jsx)(E,{onDrop:function(e){return V(e,(function(e){T(e),v===I.CUSTOM&&n(e)}))},children:Object(i.jsxs)(l.a,{component:"label",fullWidth:!0,style:{textTransform:"none",outlineWidth:2,outlineStyle:"dashed",outlineColor:a.palette.secondary.main},startIcon:null===C?Object(i.jsx)(y.a,{}):Object(i.jsx)(h.a,{}),children:[Object(i.jsx)("input",{hidden:!0,type:"file",onChange:function(e){var t;return V(null===(t=e.target.files)||void 0===t?void 0:t[0],(function(e){T(e),v===I.CUSTOM&&n(e)}))}}),null===C?Object(i.jsx)(g.a,{variant:"body1",children:"Drag or upload your encrypted data"}):Object(i.jsx)(g.a,{variant:"body1",children:"Done"})]})})]})]})}function V(e,t){if(e){var n=new FileReader;n.onloadend=function(){"string"===typeof n.result&&t(n.result)},n.readAsText(e)}}function z(){var e=Object(o.a)(),t=Object(s.useState)([]),n=Object(c.a)(t,2),j=n[0],b=n[1],O=Object(s.useState)(!0),p=Object(c.a)(O,2),f=p[0],y=p[1];return Object(i.jsxs)(i.Fragment,{children:[j.map((function(t){return Object(i.jsxs)("div",{children:[Object(i.jsx)(u.a,Object(r.a)(Object(r.a)({},t),{},{onClose:function(){return b(j.filter((function(e){return t.initialValues.encryptionKey!==e.initialValues.encryptionKey})))}})),Object(i.jsx)("div",{style:{height:e.spacing(2)}})]},t.initialValues.encryptionKey)})),f||0===j.length?Object(i.jsx)(W,{onSubmit:function(e){y(!1),b((function(t){return[].concat(Object(a.a)(t),[e])}))}}):Object(i.jsx)(l.a,{fullWidth:!0,variant:"outlined",color:"primary",startIcon:Object(i.jsx)(d.a,{}),onClick:function(){return y(!0)},children:"Open"})]})}!function(e){e.STANDARD="STANDARD",e.EMPTY="EMPTY",e.CUSTOM="CUSTOM"}(I||(I={}))}}]);
//# sourceMappingURL=8.59b53150.chunk.js.map