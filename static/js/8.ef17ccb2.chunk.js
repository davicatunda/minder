(this.webpackJsonpminder=this.webpackJsonpminder||[]).push([[8,3],{194:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return j}));var a,r=n(38),c=n(242),i=n(297);!function(e){e.List="List",e.Object="Object",e.Number="Number",e.Boolean="Boolean",e.String="String",e.Date="Date",e.Null="Null"}(a||(a={}));var o="ROOT";function l(e,t){var n,a=JSON.parse(e),r=a.title,i=void 0===r?null!==(n=t.title)&&void 0!==n?n:"Primary":r,l=a.created,s=void 0===l?new Date:l,d=a.updated,j=void 0===d?new Date:d,b=a.key,O=void 0===b?o:b,p=a.encryptionKey,f=void 0===p?t.encryptionKey:p,y=Object(c.a)(a,["title","created","updated","key","encryptionKey"]),h={},v=u(h,o,y);return{rootNode:{title:i,encryptionKey:f,created:new Date(s),updated:new Date(j),key:O,value:v.key},nodes:h}}function u(e,t,n){var r=function(e,t,n){var r=Object(i.a)();if(n instanceof Array){var c=n.map((function(n){return u(e,t,n)})).map((function(e){return e.key}));return{type:a.List,key:r,parentKey:t,children:c}}switch(typeof n){case"string":if(function(e){return RegExp(/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/).test(e)}(n)){var o=new Date(n);return{type:a.Date,key:r,parentKey:t,date:o}}return{type:a.String,key:r,parentKey:t,value:n};case"number":return{type:a.Number,key:r,parentKey:t,value:n};case"boolean":return{type:a.Boolean,key:r,parentKey:t,value:n};case"object":default:if(null==n)return{type:a.Null,key:r,parentKey:t};var l=Object.keys(n).map((function(t){return{name:t,value:u(e,r,n[t]).key,parentKey:r}}));return{type:a.Object,key:r,parentKey:t,fields:l}}}(e,t,n);return e[r.key]=r,r}function s(e){return JSON.stringify(Object(r.a)({title:e.rootNode.title,created:e.rootNode.created,updated:e.rootNode.updated,key:e.rootNode.key},d(e.nodes,e.rootNode.value)))}function d(e,t){var n=e[t];switch(n.type){case a.Boolean:return n.value;case a.Date:return n.date.toISOString();case a.List:return n.children.map((function(t){return d(e,t)}));case a.Null:return null;case a.Number:return n.value;case a.Object:var r={};return n.fields.forEach((function(t){r[t.name]=d(e,t.value)})),r;case a.String:return n.value}}function j(e,t){var n=Object(i.a)(),r=t.key;switch(e){case a.List:return{type:e,parentKey:r,key:n,children:[]};case a.Boolean:return{type:e,parentKey:r,key:n,value:!0};case a.Date:return{type:e,parentKey:r,key:n,date:new Date};case a.Null:return{type:e,parentKey:r,key:n};case a.Number:return{type:e,parentKey:r,key:n,value:0};case a.Object:return{type:e,parentKey:r,key:n,fields:[]};case a.String:return{type:e,parentKey:r,key:n,value:""}}}},195:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c}));var a=n(0),r=Object(a.createContext)(null);function c(){var e=Object(a.useContext)(r);if(null==e)throw new Error("missing DecodedDataContext.Provider");return e}},205:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));var a=n(5);function r(e){return Object(a.jsx)("span",{children:c(e.node.date)})}function c(e){var t=e.getFullYear().toString(),n=(e.getMonth()+1).toString().padStart(2,"0"),a=e.getDate().toString().padStart(2,"0");return"".concat(n,"-").concat(a,"-").concat(t)}},213:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i}));var a=n(42),r=n(0),c=Object(r.createContext)(null);function i(){var e=Object(r.useState)(null),t=Object(a.a)(e,2);return{draggedItem:t[0],setDraggedItem:t[1]}}},214:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(38),r=n(5),c=(n(0),n(58));function i(e){var t=e.style,n=Object(c.a)();return Object(r.jsx)("div",{style:Object(a.a)({backgroundColor:n.palette.text.primary,opacity:.1,filter:"blur(4px)"},t)})}},215:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ne}));var a=n(5),r=n(0),c=n(183);function i(e){return Object(a.jsx)(c.a,{variant:"body2",color:"textSecondary",component:"p",children:e.node.value?"Yes":"No"})}var o=n(205),l=n(206),u=n(38),s=n(42),d=n(194),j=n(222),b=n.n(j),O=n(181),p=n(299),f=n(275),y=n(274),h=n(278),v=n(277),x=n(269),g=n(270),m=n(296),S=n(187);function C(e){var t=e.node,n=e.onChange;return Object(a.jsxs)(x.a,{variant:"filled",fullWidth:!0,children:[Object(a.jsx)(g.a,{children:"Initial value"}),Object(a.jsxs)(m.a,{label:"Type",value:t.value,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var a=e.target.value;n(Object(u.a)(Object(u.a)({},t),{},{value:"true"===a}))})),children:[Object(a.jsx)(S.a,{value:"true",children:"Yes"}),Object(a.jsx)(S.a,{value:"false",children:"No"})]})]})}var w=n(293);function N(e){var t=e.node,n=e.onChange;return Object(a.jsx)(w.a,{disableToolbar:!0,variant:"inline",inputVariant:"filled",fullWidth:!0,format:"MM/dd/yyyy",label:"Initial Date",value:t.date,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){n(Object(u.a)(Object(u.a)({},t),{},{date:null!==e&&void 0!==e?e:new Date}))})),KeyboardButtonProps:{"aria-label":"change date"}})}var D=n(300);function k(e){var t=e.node,n=e.onChange;return Object(a.jsx)(D.a,{variant:"filled",id:"name",label:"Initial Value",type:"number",value:t.value,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){n(Object(u.a)(Object(u.a)({},t),{},{value:isNaN(Number(e.target.value))?t.value:Number(e.target.value)}))})),fullWidth:!0})}function K(e){var t=e.node,n=e.onChange;return Object(a.jsx)(D.a,{id:"name",label:"Initial Value",variant:"filled",type:"string",value:t.value,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){n(Object(u.a)(Object(u.a)({},t),{},{value:e.target.value}))})),fullWidth:!0})}function A(e){var t=e.node,n=e.onChange;if(null===t)return null;switch(t.type){case d.a.List:return null;case d.a.Boolean:return Object(a.jsx)(C,{node:t,onChange:n});case d.a.Date:return Object(a.jsx)(N,{node:t,onChange:n});case d.a.Null:throw Error("Impossible");case d.a.Number:return Object(a.jsx)(k,{node:t,onChange:n});case d.a.Object:return null;case d.a.String:return Object(a.jsx)(K,{node:t,onChange:n})}}var T=n(272),E=n(276),P=n(186),L=n(146),I=n(188),B=n(254),W=n(235),M=n.n(W),R=n(236),F=n.n(R),U=n(234),z=n.n(U),V=n(233),Y=n.n(V),G=n(237),J=n.n(G),q=n(232),Q=n.n(q),H=n(231),X=n.n(H),Z=n(195);var $=function(e){switch(Object(Z.b)().store.nodes[e.nodeKey].type){case d.a.Boolean:return Object(a.jsx)(X.a,{});case d.a.Date:return Object(a.jsx)(Q.a,{});case d.a.List:return Object(a.jsx)(Y.a,{});case d.a.Null:return Object(a.jsx)(z.a,{});case d.a.Number:return Object(a.jsx)(M.a,{});case d.a.Object:return Object(a.jsx)(F.a,{});case d.a.String:return Object(a.jsx)(J.a,{})}},_=n(221),ee=n.n(_);function te(e){var t=Object(Z.b)().store;return function(n){return""===e||ne(t,n,e.toLocaleLowerCase())}}function ne(e,t,n){var a=e.nodes[t];switch(a.type){case d.a.Boolean:return!1;case d.a.Date:return Object(o.a)(a.date).toLocaleLowerCase().includes(n);case d.a.List:return a.children.some((function(t){return ne(e,t,n)}));case d.a.Null:return"null"===n;case d.a.Number:return a.value.toString().toLocaleLowerCase().includes(n);case d.a.Object:return a.fields.some((function(t){return t.name.toLocaleLowerCase().includes(n)||ne(e,t.value,n)}));case d.a.String:return a.value.toLocaleLowerCase().includes(n)}}function ae(e){var t=Object(r.useState)(""),n=Object(s.a)(t,2),c=n[0],i=n[1],o=te(c);return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:e.node.children.length>7?Object(a.jsx)(x.a,{children:Object(a.jsx)(T.a,{value:c,onChange:function(e){return i(e.target.value)},placeholder:"Search ...",startAdornment:Object(a.jsx)(E.a,{position:"start",children:Object(a.jsx)(ee.a,{})})})}):null}),Object(a.jsxs)(P.a,{children:[e.node.children.filter(o).map((function(e){return Object(a.jsxs)(L.a,{button:!0,children:[Object(a.jsx)(I.a,{children:Object(a.jsx)($,{nodeKey:e})}),Object(a.jsx)(B.a,{primary:Object(a.jsx)(Ne,{nodeKey:e})})]})})),Object(a.jsx)(L.a,{children:Object(a.jsx)(B.a,{onClick:function(e){return e.stopPropagation()},primary:Object(a.jsx)(re,{parentNode:e.node})})})]})]})}function re(e){var t,n=Object(Z.b)(),c=n.store,i=n.updateNodes,o=e.parentNode.children.length>0?Object(d.b)(c.nodes[e.parentNode.children[0]].type,e.parentNode):null,j=Object(r.useState)(!1),C=Object(s.a)(j,2),w=C[0],N=C[1],D=Object(r.useState)(o),k=Object(s.a)(D,2),K=k[0],T=k[1];return null==i?null:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(O.a,{variant:"outlined",color:"primary",size:"small",onClick:function(){return N(!0)},startIcon:Object(a.jsx)(b.a,{}),children:["Add"," "]}),Object(a.jsxs)(p.a,{open:w,onClose:function(){return N(!1)},"aria-labelledby":"new-field-dialog-title",children:[Object(a.jsx)(v.a,{id:"new-field-dialog-title",children:"Add New List Item"}),Object(a.jsxs)(y.a,{children:[Object(a.jsx)(h.a,{children:"All items on a list must have the same type."}),!o&&Object(a.jsxs)(x.a,{children:[Object(a.jsx)(g.a,{id:"select-type-label",children:"Type"}),Object(a.jsxs)(m.a,{labelId:"select-type-label",value:null!==(t=null===K||void 0===K?void 0:K.type)&&void 0!==t?t:"",onChange:function(t){var n=t.target.value;T(Object(d.b)(n,e.parentNode))},fullWidth:!0,children:[Object(a.jsx)(S.a,{value:d.a.Boolean,children:"Boolean"}),Object(a.jsx)(S.a,{value:d.a.Date,children:"Date"}),Object(a.jsx)(S.a,{value:d.a.Number,children:"Number"}),Object(a.jsx)(S.a,{value:d.a.Object,children:"Object"}),Object(a.jsx)(S.a,{value:d.a.String,children:"String"})]})]}),Object(a.jsx)(A,{node:K,onChange:T})]}),Object(a.jsxs)(f.a,{children:[Object(a.jsx)(O.a,{onClick:function(){return N(!1)},color:"primary",children:"Cancel"}),Object(a.jsx)(O.a,{onClick:function(){if(null!==K){var t=Object(u.a)(Object(u.a)({},e.parentNode),{},{children:[].concat(Object(l.a)(e.parentNode.children),[K.key])});i([K,t])}T(o),N(!1)},color:"primary",children:"Create"})]})]})]})}function ce(e){return Object(a.jsx)(c.a,{variant:"body2",color:"textSecondary",component:"p",children:"Null"})}function ie(e){return Object(a.jsx)(c.a,{variant:"body2",color:"textSecondary",component:"p",children:e.node.value})}var oe=n(58),le=n(303),ue=n(253),se=n(279),de=n(280),je=n(179);function be(e){var t=Object(oe.a)(),n=Object(Z.b)().updateNodes,c=Object(r.useState)(!1),i=Object(s.a)(c,2),o=i[0],j=i[1],h=Object(r.useState)(Object(d.b)(d.a.String,e.parentNode)),C=Object(s.a)(h,2),w=C[0],N=C[1],k=Object(r.useState)(""),K=Object(s.a)(k,2),T=K[0],E=K[1];if(null===n)return null;var P=function(){j(!1),N(Object(d.b)(d.a.String,e.parentNode)),E("")};return Object(a.jsxs)("span",{style:{display:"flex",alignItems:"center"},onClick:function(e){return e.stopPropagation()},children:[Object(a.jsx)(je.a,{onClick:function(e){j(!0)},children:Object(a.jsx)(b.a,{fontSize:"large"})}),Object(a.jsxs)(p.a,{open:o,onClose:function(){return j(!1)},"aria-labelledby":"new-item-dialog-title",fullWidth:!0,maxWidth:"xs",children:[Object(a.jsx)(v.a,{id:"new-item-dialog-title",children:"Add New Item"}),Object(a.jsxs)("div",{style:{position:"absolute",display:"flex",alignItems:"center",right:t.spacing(1),top:t.spacing(1)},children:[Object(a.jsx)(je.a,{"aria-label":"minimize",onClick:function(){return j(!1)},children:Object(a.jsx)(se.a,{style:{transform:"translate(0px, -7px)"}})}),Object(a.jsx)(je.a,{"aria-label":"close",onClick:P,children:Object(a.jsx)(de.a,{})})]}),Object(a.jsxs)(y.a,{dividers:!0,style:{minHeight:180},children:[Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsxs)(x.a,{variant:"filled",style:{minWidth:120},children:[Object(a.jsx)(g.a,{children:"Type"}),Object(a.jsxs)(m.a,{label:"Type",value:w.type,onChange:function(t){var n=t.target.value;N(Object(d.b)(n,e.parentNode))},children:[Object(a.jsx)(S.a,{value:d.a.List,children:"List"}),Object(a.jsx)(S.a,{value:d.a.Boolean,children:"Question"}),Object(a.jsx)(S.a,{value:d.a.Date,children:"Date"}),Object(a.jsx)(S.a,{value:d.a.Number,children:"Number"}),Object(a.jsx)(S.a,{value:d.a.Object,children:"Folder"}),Object(a.jsx)(S.a,{value:d.a.String,children:"Text"})]})]}),Object(a.jsx)("span",{style:{width:t.spacing(1)}}),Object(a.jsx)(D.a,{label:"Name",variant:"filled",type:"string",autoFocus:!0,value:T,onChange:function(e){return E(e.target.value)},fullWidth:!0})]}),Object(a.jsx)("div",{style:{height:t.spacing(1)}}),Object(a.jsx)(A,{node:w,onChange:N})]}),Object(a.jsx)(f.a,{children:Object(a.jsx)(O.a,{onClick:function(){if(w){var t=Object(u.a)(Object(u.a)({},e.parentNode),{},{fields:[].concat(Object(l.a)(e.parentNode.fields),[{name:T,value:w.key,parentKey:w.parentKey}])});n([w,t])}P()},fullWidth:!0,variant:"contained",color:"primary",children:"Create"})})]})]})}var Oe=n(265),pe=n(281),fe=n(267),ye=n(214),he=n(238),ve=n.n(he),xe=n(213);function ge(e,t,n,a){var r="AFTER"===a?1:0,c=e.fields.findIndex((function(e){return e.value===n.value}))+r;return Object(u.a)(Object(u.a)({},e),{},{fields:[].concat(Object(l.a)(e.fields.slice(0,c)),[t],Object(l.a)(e.fields.slice(c)))})}function me(e){var t=e.name,n=e.value,i=e.parentKey,o=Object(oe.a)(),l=function(e){var t=Object(r.useRef)(null),n=Object(oe.a)(),a=Object(Z.b)(),c=a.store,i=a.updateNodes,o=Object(r.useState)(null),l=Object(s.a)(o,2),j=l[0],b=l[1],O=Object(r.useContext)(xe.a);if(null===i||null===O)return{draggableContainerProps:{draggable:!1},dropTargetProps:{style:{display:"none"}}};var p=O.draggedItem,f=O.setDraggedItem,y=e.value===(null===p||void 0===p?void 0:p.value);return{draggableContainerProps:{draggable:!0,style:{position:"relative"},onDragStart:function(t){f(e),t.stopPropagation()},onDragEnd:function(){return f(null)}},dropTargetProps:{ref:t,style:Object(u.a)({position:"absolute",display:null===p?"none":void 0,zIndex:1,borderColor:n.palette.primary.main},y?{left:0,right:0,top:0,bottom:0,borderWidth:2,borderRadius:n.shape.borderRadius,borderStyle:"dashed"}:{top:4,bottom:4,left:-2,right:-2,borderWidth:4,borderLeftStyle:"BEFORE"===j?"solid":"none",borderRightStyle:"AFTER"===j?"solid":"none",borderTopStyle:"none",borderBottomStyle:"none"}),onDrop:function(){if(null!==j&&null!==p){var t=c.nodes[p.parentKey],n=c.nodes[e.parentKey];if(t.type===d.a.Object&&n.type===d.a.Object){var a=Object(u.a)(Object(u.a)({},t),{},{fields:t.fields.filter((function(e){return e.value!==p.value}))});e.parentKey===p.parentKey?i([ge(a,p,e,j)]):i([a,ge(n,p,e,j)]),b(null),f(null)}}},onDragOver:function(e){if(null!=t.current&&!y){var n=t.current.getBoundingClientRect(),a=n.width/2,r=n.left+a;console.log("is happening"),b(e.pageX>r?"AFTER":"BEFORE"),e.preventDefault()}},onDragLeave:function(){b(null)}}}}({name:t,value:n,parentKey:i}),j=l.draggableContainerProps,b=l.dropTargetProps,O=function(e,t){var n=Object(Z.b)().store;if(e.length>20)return!0;var a=n.nodes[t];switch(a.type){case d.a.Boolean:case d.a.Date:return!1;case d.a.List:return!0;case d.a.Null:return!1;case d.a.Number:return a.value.toString().length>30;case d.a.Object:return!0;case d.a.String:return a.value.length>30}}(t,n),p=Object(r.useState)(!O),f=Object(s.a)(p,2),y=f[0],h=f[1];return Object(a.jsxs)(ue.a,Object(u.a)(Object(u.a)({item:!0,xs:12,sm:y||!O?6:12,md:y||!O?4:12},j),{},{children:[Object(a.jsx)("div",Object(u.a)({},b)),Object(a.jsx)(Oe.a,{onClick:function(e){e.stopPropagation(),h((function(e){return!e}))},variant:"outlined",children:Object(a.jsx)(pe.a,{disableRipple:!0,children:Object(a.jsxs)(fe.a,{children:[Object(a.jsxs)(c.a,{gutterBottom:!0,variant:"h6",style:{display:"flex",alignItems:"center"},children:[Object(a.jsx)($,{nodeKey:n}),Object(a.jsx)("span",{style:{width:o.spacing(1)}}),y&&t.length>19?"".concat(t.slice(0,18),"..."):t]}),!y&&Object(a.jsx)("span",{onClick:function(e){return e.stopPropagation()},style:{position:"absolute",top:o.spacing(2),right:o.spacing(2)},children:Object(a.jsx)(Se,{name:t,value:n,parentKey:i})}),y?Object(a.jsx)(ye.a,{style:{width:"80%",height:12,marginTop:o.spacing(2)}}):Object(a.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:Object(a.jsx)(Ne,{nodeKey:n})})]})})})]}))}function Se(e){var t=e.name,n=e.value,c=e.parentKey,i=Object(oe.a)(),o=Object(Z.b)(),l=o.store,j=o.updateNodes,b=Object(r.useState)(t),h=Object(s.a)(b,2),x=h[0],g=h[1],m=l.nodes[n],S=l.nodes[c],C=Object(r.useState)(m),w=Object(s.a)(C,2),N=w[0],k=w[1],K=Object(r.useState)(!1),T=Object(s.a)(K,2),E=T[0],P=T[1];return Object(r.useEffect)((function(){g(t),k(m)}),[t,m,S]),null===j||S.type!==d.a.Object?null:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(je.a,{onClick:function(){return P(!0)},size:"small",children:Object(a.jsx)(ve.a,{fontSize:"small"})}),E&&Object(a.jsxs)(p.a,{open:E,onClose:function(){return P(!1)},"aria-labelledby":"edit-dialog-title",fullWidth:!0,maxWidth:"xs",children:[Object(a.jsx)(v.a,{id:"edit-dialog-title",children:"Edit"}),Object(a.jsxs)(y.a,{children:[Object(a.jsx)(D.a,{label:"Name",variant:"outlined",type:"string",autoFocus:!0,value:x,onChange:function(e){return g(e.target.value)},fullWidth:!0}),Object(a.jsx)("span",{style:{width:i.spacing(1)}}),Object(a.jsx)(A,{node:N,onChange:k})]}),Object(a.jsxs)(f.a,{children:[Object(a.jsx)(O.a,{onClick:function(){return P(!1)},children:"Cancel"}),Object(a.jsx)(O.a,{onClick:function(){var e=Object(u.a)(Object(u.a)({},S),{},{fields:S.fields.map((function(e){return e.value!==n?e:Object(u.a)(Object(u.a)({},e),{},{name:x})}))});j([N,e]),P(!1)},children:"Save"})]})]})]})}function Ce(e){var t=e.node,n=Object(r.useState)(""),c=Object(s.a)(n,2),i=c[0],o=c[1],l=te(i),u=Object(oe.a)(),d=Object(r.useState)(!1),j=Object(s.a)(d,2),b=j[0],O=j[1];return Object(a.jsxs)(a.Fragment,{children:[t.fields.length>7?Object(a.jsxs)(ue.a,{item:!0,xs:12,sm:b?6:4,md:b?4:3,children:[Object(a.jsx)(x.a,{variant:"outlined",fullWidth:b||""!==i,children:Object(a.jsx)(le.a,{onKeyDown:function(e){" "===e.key&&(e.preventDefault(),o((function(e){return e+" "})))},onFocus:function(){return O(!0)},onBlur:function(){return O(!1)},placeholder:"Search ...",value:i,onChange:function(e){return o(e.target.value)},startAdornment:Object(a.jsx)(E.a,{position:"start",children:Object(a.jsx)(ee.a,{})})})}),Object(a.jsx)("div",{style:{height:u.spacing(2)}})]}):null,Object(a.jsxs)(ue.a,{container:!0,spacing:1,onClick:function(e){return e.stopPropagation()},children:[t.fields.filter((function(e){return e.name.toLocaleLowerCase().includes(i.toLocaleLowerCase())||l(e.value)})).map((function(e){return Object(a.jsx)(me,{name:e.name,value:e.value,parentKey:t.key},e.value)})),Object(a.jsx)(ue.a,{item:!0,xs:12,sm:6,md:4,style:{display:"flex"},children:Object(a.jsx)(be,{parentNode:t})})]})]})}function we(e){return Object(a.jsx)(c.a,{variant:"body2",color:"textSecondary",component:"p",children:e.node.value})}function Ne(e){var t=e.nodeKey,n=Object(Z.b)().store.nodes[t];switch(n.type){case d.a.Boolean:return Object(a.jsx)(i,{node:n});case d.a.Date:return Object(a.jsx)(o.b,{node:n});case d.a.List:return Object(a.jsx)(ae,{node:n});case d.a.Null:return Object(a.jsx)(ce,{node:n});case d.a.Number:return Object(a.jsx)(ie,{node:n});case d.a.Object:return Object(a.jsx)(Ce,{node:n});case d.a.String:return Object(a.jsx)(we,{node:n})}}},223:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return g}));var a=n(239),r=n.n(a),c=n(38),i=n(42),o=n(240),l=n(194);function u(e){return String.fromCharCode.apply(null,new Uint16Array(e))}function s(e){for(var t=new ArrayBuffer(2*e.length),n=new Uint16Array(t),a=0,r=e.length;a<r;a++)n[a]=e.charCodeAt(a);return t}function d(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function j(e){return function(e){var t=new Uint8Array(e.length);return Array.prototype.forEach.call(t,(function(t,n,a){a[n]=e.charCodeAt(n)})),btoa(d(t.buffer))}(d(e))}function b(e){return function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),a=0,r=e.length;a<r;a++)n[a]=e.charCodeAt(a);return t}(function(e){var t=atob(e),n=new Uint8Array(t.length);return Array.prototype.forEach.call(n,(function(e,n,a){a[n]=t.charCodeAt(n)})),d(n.buffer)}(e))}function O(e){return function(e){var t=new Uint16Array(e.length);return Array.prototype.forEach.call(t,(function(t,n,a){a[n]=e.charCodeAt(n)})),btoa(d(t.buffer))}(u(e))}function p(e){return s(function(e){var t=atob(e),n=new Uint8Array(t.length);return Array.prototype.forEach.call(n,(function(e,n,a){a[n]=t.charCodeAt(n)})),u(n.buffer)}(e))}var f=n(0);function y(){return(y=Object(o.a)(r.a.mark((function e(t,n){var a,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.crypto.getRandomValues(new Uint8Array(12)),e.next=3,window.crypto.subtle.importKey("raw",p(n),{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]);case 3:return c=e.sent,e.next=6,window.crypto.subtle.encrypt({name:"AES-GCM",iv:a},c,s(t));case 6:return i=e.sent,e.abrupt("return","".concat(j(a),"!").concat(O(i)));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(o.a)(r.a.mark((function e(t,n){var a,c,o,l,s,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.split("!"),c=Object(i.a)(a,2),o=c[0],l=c[1],e.next=3,window.crypto.subtle.importKey("raw",p(n),{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]);case 3:return s=e.sent,e.next=6,window.crypto.subtle.decrypt({name:"AES-GCM",iv:b(o)},s,p(l));case 6:return d=e.sent,e.abrupt("return",u(d));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return x.apply(this,arguments)}function x(){return(x=Object(o.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]);case 2:return t=e.sent,e.next=5,window.crypto.subtle.exportKey("raw",t);case 5:return n=e.sent,e.abrupt("return",O(n));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t,n){var a="{"===n[0],r=a?function(){return Object(l.d)(n,{title:e,encryptionKey:t})}:null,o=Object(f.useState)(r),u=Object(i.a)(o,2),s=u[0],d=u[1],j=a?null:n;Object(f.useEffect)((function(){null!=j&&function(e,t){return h.apply(this,arguments)}(j,t).then((function(n){d(Object(l.d)(n,{title:e,encryptionKey:t}))}))}),[j,t,e]);var b=Object(f.useState)(null),O=Object(i.a)(b,2),p=O[0],v=O[1];return Object(f.useEffect)((function(){null!=s&&function(e,t){return y.apply(this,arguments)}(Object(l.c)(s),t).then(v)}),[s,t]),null===s||null===p?null:{store:s,updateNodes:function(e){var t=Object(c.a)({},s.nodes);e.forEach((function(e){return t[e.key]=e}));var n={rootNode:Object(c.a)(Object(c.a)({},s.rootNode),{},{updated:new Date}),nodes:t};d(n)},encryptedData:p}}},228:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(5),r=n(58),c=n(123),i=n(301),o=n(179),l=n(183),u=n(213),s=n(42),d=n(265),j=n(266),b=n(267),O=n(268),p=n(181),f=n(0),y=n(214),h=n(205);function v(e){var t=e.rootNode,n=e.encryptedData,r=Object(f.useState)(!0),c=Object(s.a)(r,2),o=c[0],u=c[1];return Object(a.jsxs)(d.a,{style:{maxWidth:400},variant:"outlined",children:[Object(a.jsx)(j.a,{title:"Details"}),Object(a.jsxs)(b.a,{children:[Object(a.jsx)(l.a,{variant:"body2",children:"Title"}),Object(a.jsx)(l.a,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:t.title}),Object(a.jsx)(l.a,{variant:"body2",children:"Encrypted key"}),Object(a.jsx)(i.a,{title:"double click to show",placement:"top",children:Object(a.jsx)(l.a,{variant:"body2",color:"textSecondary",gutterBottom:!0,onDoubleClick:function(){return u((function(e){return!e}))},children:o?Object(a.jsx)(y.a,{style:{height:12,width:"100%",marginTop:8}}):t.encryptionKey})}),Object(a.jsx)(l.a,{variant:"body2",children:"Created"}),Object(a.jsx)(l.a,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:Object(h.a)(t.created)}),Object(a.jsx)(l.a,{variant:"body2",children:"Last Updated"}),Object(a.jsx)(l.a,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:Object(h.a)(t.updated)})]}),Object(a.jsxs)(O.a,{children:[Object(a.jsx)(p.a,{size:"small",color:"primary",href:"data:text/plain;charset=base64,".concat(t.encryptionKey),download:"key.ish",children:"Save Key"}),Object(a.jsx)(p.a,{size:"small",color:"primary",disabled:null==n,href:"data:text/plain;charset=base64,".concat(n),download:"data.ish",children:"Save Data"})]})]})}var x=n(215),g=n(280),m=n(195),S=n(223);function C(e){var t=e.children,n=e.title,s=e.initialValues,d=s.encryptionKey,j=s.initialData,b=e.onClose,O=Object(r.a)(),p=Object(u.b)(),f=Object(S.b)(n,d,j);if(!f)return null;var y=f.store,h=f.updateNodes,C=f.encryptedData;return Object(a.jsx)(u.a.Provider,{value:p,children:Object(a.jsx)(m.a.Provider,{value:{store:y,updateNodes:h},children:Object(a.jsxs)(c.a,{style:{position:"relative",padding:O.spacing(3)},children:[Object(a.jsx)("div",{style:{position:"absolute",right:O.spacing(1),top:O.spacing(1)},children:Object(a.jsx)(i.a,{title:"Did you save? Just checking",arrow:!0,children:Object(a.jsx)(o.a,{"aria-label":"close card",onClick:b,children:Object(a.jsx)(g.a,{})})})}),Object(a.jsx)(v,{rootNode:y.rootNode,encryptedData:C}),Object(a.jsx)("div",{style:{height:O.spacing(3)}}),Object(a.jsx)(l.a,{variant:"h2",children:"Data"}),Object(a.jsx)(x.a,{nodeKey:y.rootNode.value}),t&&t(y)]})})})}},298:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return F}));var a=n(206),r=n(38),c=n(42),i=n(5),o=n(58),l=n(181),u=n(228),s=n(0),d=n(282),j=n(79),b=n(283),O=n(284),p=n(285),f=n(288),y=n(289),h=n(123),v=n(183),x=n(300),g=n(276),m=n(301),S=n(179),C=n(286),w=n(271),N=n(304),D=n(287),k=n(295),K=n(33);function A(e){var t=e.children,n=e.onDrop;return Object(i.jsx)("div",{onDrop:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){e.preventDefault(),n(e.dataTransfer.files[0])})),onDragOver:function(e){e.preventDefault()},onDragEnter:function(e){e.preventDefault()},children:t})}var T=n(223);function E(){var e=Object(j.a)(["\n  query OfflinePage {\n    standardProposal {\n      version\n      data\n    }\n  }\n"]);return E=function(){return e},e}var P,L=Object(K.gql)(E());function I(e){var t=e.onSubmit,n=Object(o.a)(),a=Object(s.useState)(null),r=Object(c.a)(a,2),u=r[0],j=r[1],b=Object(s.useState)(""),O=Object(c.a)(b,2),p=O[0],f=O[1],y=Object(s.useState)(""),x=Object(c.a)(y,2),g=x[0],m=x[1],S=Object(K.useQuery)(L,{onCompleted:function(e){j(e.standardProposal.data)}}).data;return null==S?null:Object(i.jsxs)(h.a,{style:{padding:n.spacing(4),margin:"auto",maxWidth:480,width:"100%"},children:[Object(i.jsx)(v.a,{align:"center",variant:"h3",children:"Start"}),Object(i.jsx)("div",{style:{height:n.spacing(4)}}),Object(i.jsx)(B,{title:p,setTitle:f}),Object(i.jsx)(W,{encryptionKey:g,setEncryptionKey:m}),Object(i.jsx)(M,{standardProposal:S.standardProposal,setInitialData:j}),Object(i.jsx)("div",{style:{height:n.spacing(1)}}),Object(i.jsx)(l.a,{fullWidth:!0,variant:"contained",disabled:""===g||null===u,color:"primary",size:"large",startIcon:Object(i.jsx)(d.a,{}),onClick:function(){t({title:""!==p?p:"Primary",initialValues:{encryptionKey:g,initialData:u}})},children:"Open"})]})}function B(e){var t=e.title,n=e.setTitle;return Object(i.jsx)(x.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Title",autoComplete:"title",value:t,onChange:function(e){return n(e.target.value)},autoFocus:!0})}function W(e){var t=e.encryptionKey,n=e.setEncryptionKey;return Object(i.jsx)(A,{onDrop:function(e){return R(e,n)},children:Object(i.jsx)(x.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Encryption Key",type:"password",autoComplete:"current-encryption-key",value:t,onChange:function(e){return n(e.target.value)},InputProps:{endAdornment:Object(i.jsx)(g.a,{position:"end",children:Object(i.jsx)(m.a,{title:"Generate key",arrow:!0,children:Object(i.jsx)(S.a,{"aria-label":"generate encryption Key",onClick:function(){return Object(T.a)().then(n)},children:Object(i.jsx)(b.a,{})})})})}})})}function M(e){var t=e.standardProposal,n=e.setInitialData,a=Object(o.a)(),r=Object(s.useState)(!1),u=Object(c.a)(r,2),d=u[0],j=u[1],b=Object(s.useState)(P.STANDARD),h=Object(c.a)(b,2),x=h[0],g=h[1],m=Object(s.useState)(null),K=Object(c.a)(m,2),T=K[0],E=K[1];return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(i.jsx)(v.a,{variant:"body1",children:"Data Options"}),Object(i.jsx)(S.a,{onClick:function(){return j((function(e){return!e}))},"aria-expanded":d,"aria-label":"show more",children:d?Object(i.jsx)(O.a,{}):Object(i.jsx)(p.a,{})})]}),Object(i.jsxs)(C.a,{in:d,timeout:"auto",unmountOnExit:!0,children:[Object(i.jsx)(w.a,{component:"legend",children:"Initial Data"}),Object(i.jsxs)(N.a,{"aria-label":"Initial data",value:x,onChange:function(e){var a=e.target.value;switch(g(a),a){case P.CUSTOM:return n(T);case P.EMPTY:return n("{}");case P.STANDARD:return n(t.data)}},children:[Object(i.jsx)(D.a,{value:P.STANDARD,control:Object(i.jsx)(k.a,{}),label:"Standard v".concat(t.version)}),Object(i.jsx)(D.a,{value:P.EMPTY,control:Object(i.jsx)(k.a,{}),label:"Empty"}),Object(i.jsx)(D.a,{value:P.CUSTOM,control:Object(i.jsx)(k.a,{}),label:"My own"})]}),P.CUSTOM===x&&Object(i.jsx)(A,{onDrop:function(e){return R(e,(function(e){E(e),x===P.CUSTOM&&n(e)}))},children:Object(i.jsxs)(l.a,{component:"label",fullWidth:!0,style:{textTransform:"none",outlineWidth:2,outlineStyle:"dashed",outlineColor:a.palette.secondary.main},startIcon:null===T?Object(i.jsx)(f.a,{}):Object(i.jsx)(y.a,{}),children:[Object(i.jsx)("input",{hidden:!0,type:"file",onChange:function(e){var t;return R(null===(t=e.target.files)||void 0===t?void 0:t[0],(function(e){E(e),x===P.CUSTOM&&n(e)}))}}),null===T?Object(i.jsx)(v.a,{variant:"body1",children:"Drag or upload your encrypted data"}):Object(i.jsx)(v.a,{variant:"body1",children:"Done"})]})})]})]})}function R(e,t){if(e){var n=new FileReader;n.onloadend=function(){"string"===typeof n.result&&t(n.result)},n.readAsText(e)}}function F(){var e=Object(o.a)(),t=Object(s.useState)([]),n=Object(c.a)(t,2),j=n[0],b=n[1],O=Object(s.useState)(!0),p=Object(c.a)(O,2),f=p[0],y=p[1];return Object(i.jsxs)(i.Fragment,{children:[j.map((function(t){return Object(i.jsxs)("div",{children:[Object(i.jsx)(u.a,Object(r.a)(Object(r.a)({},t),{},{onClose:function(){return b(j.filter((function(e){return t.initialValues.encryptionKey!==e.initialValues.encryptionKey})))}})),Object(i.jsx)("div",{style:{height:e.spacing(2)}})]},t.initialValues.encryptionKey)})),f||0===j.length?Object(i.jsx)(I,{onSubmit:function(e){y(!1),b((function(t){return[].concat(Object(a.a)(t),[e])}))}}):Object(i.jsx)(l.a,{fullWidth:!0,variant:"outlined",color:"primary",startIcon:Object(i.jsx)(d.a,{}),onClick:function(){return y(!0)},children:"Open"})]})}!function(e){e.STANDARD="STANDARD",e.EMPTY="EMPTY",e.CUSTOM="CUSTOM"}(P||(P={}))}}]);
//# sourceMappingURL=8.ef17ccb2.chunk.js.map